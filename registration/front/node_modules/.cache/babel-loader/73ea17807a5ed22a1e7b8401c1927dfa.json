{"remainingRequest":"D:\\graduateSys\\registration\\front\\node_modules\\babel-loader\\lib\\index.js!D:\\graduateSys\\registration\\front\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\graduateSys\\registration\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\graduateSys\\registration\\front\\src\\views\\template\\department-choose.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\graduateSys\\registration\\front\\src\\views\\template\\department-choose.vue","mtime":1743403543320},{"path":"D:\\graduateSys\\registration\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1739857231742},{"path":"D:\\graduateSys\\registration\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":1739857230815},{"path":"D:\\graduateSys\\registration\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1739857231742},{"path":"D:\\graduateSys\\registration\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":1739857212415}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGluaXREZXBhcnRtZW50IH0gZnJvbSAiQC9hcGkvaW5kZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImRlcGFydG1lbnRDaG9vc2UiLAogIHByb3BzOiB7fSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VsZWN0RGVwOiBbXSwKICAgICAgZGVwYXJ0bWVudDogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0RGVwYXJ0bWVudERhdGEoKSB7CiAgICAgIGluaXREZXBhcnRtZW50KCkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgcmVzLnJlc3VsdC5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIGlmIChlLmlzUGFyZW50KSB7CiAgICAgICAgICAgICAgZS52YWx1ZSA9IGUuaWQ7CiAgICAgICAgICAgICAgZS5sYWJlbCA9IGUudGl0bGU7CiAgICAgICAgICAgICAgZS5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgZS5jaGlsZHJlbiA9IFtdOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGUudmFsdWUgPSBlLmlkOwogICAgICAgICAgICAgIGUubGFiZWwgPSBlLnRpdGxlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChlLnN0YXR1cyA9PSAtMSkgewogICAgICAgICAgICAgIGUubGFiZWwgPSAiW+W3suemgeeUqF0gIiArIGUubGFiZWw7CiAgICAgICAgICAgICAgZS5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5kZXBhcnRtZW50ID0gcmVzLnJlc3VsdDsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGxvYWREYXRhKGl0ZW0sIGNhbGxiYWNrKSB7CiAgICAgIGl0ZW0ubG9hZGluZyA9IHRydWU7CiAgICAgIGluaXREZXBhcnRtZW50KHsKICAgICAgICBwYXJlbnRJZDogaXRlbS52YWx1ZQogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgaXRlbS5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICByZXMucmVzdWx0LmZvckVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgaWYgKGUuaXNQYXJlbnQpIHsKICAgICAgICAgICAgICBlLnZhbHVlID0gZS5pZDsKICAgICAgICAgICAgICBlLmxhYmVsID0gZS50aXRsZTsKICAgICAgICAgICAgICBlLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICBlLmNoaWxkcmVuID0gW107CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgZS52YWx1ZSA9IGUuaWQ7CiAgICAgICAgICAgICAgZS5sYWJlbCA9IGUudGl0bGU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGUuc3RhdHVzID09IC0xKSB7CiAgICAgICAgICAgICAgZS5sYWJlbCA9ICJb5bey56aB55SoXSAiICsgZS5sYWJlbDsKICAgICAgICAgICAgICBlLmRpc2FibGVkID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICBpdGVtLmNoaWxkcmVuID0gcmVzLnJlc3VsdDsKICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVDaGFuZ2VEZXAodmFsdWUsIHNlbGVjdGVkRGF0YSkgewogICAgICBsZXQgZGVwYXJ0bWVudElkID0gIiI7CiAgICAgIC8vIOiOt+WPluacgOWQjuS4gOS4quWAvAogICAgICBpZiAodmFsdWUgJiYgdmFsdWUubGVuZ3RoID4gMCkgewogICAgICAgIGRlcGFydG1lbnRJZCA9IHZhbHVlW3ZhbHVlLmxlbmd0aCAtIDFdOwogICAgICB9CiAgICAgIHRoaXMuJGVtaXQoIm9uLWNoYW5nZSIsIGRlcGFydG1lbnRJZCk7CiAgICB9LAogICAgY2xlYXJTZWxlY3QoKSB7CiAgICAgIHRoaXMuc2VsZWN0RGVwID0gW107CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5pbml0RGVwYXJ0bWVudERhdGEoKTsKICB9Cn07"},{"version":3,"names":["initDepartment","name","props","data","selectDep","department","methods","initDepartmentData","then","res","success","result","forEach","e","isParent","value","id","label","title","loading","children","status","disabled","loadData","item","callback","parentId","handleChangeDep","selectedData","departmentId","length","$emit","clearSelect","mounted"],"sources":["src/views/template/department-choose.vue"],"sourcesContent":["<template>\r\n<div>\r\n    <Cascader v-model=\"selectDep\" :data=\"department\" :load-data=\"loadData\" @on-change=\"handleChangeDep\" change-on-select filterable clearable placeholder=\"选择部门\"></Cascader>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n    initDepartment\r\n} from \"@/api/index\";\r\nexport default {\r\n    name: \"departmentChoose\",\r\n    props: {\r\n\r\n    },\r\n    data() {\r\n        return {\r\n            selectDep: [],\r\n            department: []\r\n        };\r\n    },\r\n    methods: {\r\n        initDepartmentData() {\r\n            initDepartment().then(res => {\r\n                if (res.success) {\r\n                    res.result.forEach(function (e) {\r\n                        if (e.isParent) {\r\n                            e.value = e.id;\r\n                            e.label = e.title;\r\n                            e.loading = false;\r\n                            e.children = [];\r\n                        } else {\r\n                            e.value = e.id;\r\n                            e.label = e.title;\r\n                        }\r\n                        if (e.status == -1) {\r\n                            e.label = \"[已禁用] \" + e.label;\r\n                            e.disabled = true;\r\n                        }\r\n                    });\r\n                    this.department = res.result;\r\n                }\r\n            });\r\n        },\r\n        loadData(item, callback) {\r\n            item.loading = true;\r\n            initDepartment({\r\n                parentId: item.value\r\n            }).then(res => {\r\n                item.loading = false;\r\n                if (res.success) {\r\n                    res.result.forEach(function (e) {\r\n                        if (e.isParent) {\r\n                            e.value = e.id;\r\n                            e.label = e.title;\r\n                            e.loading = false;\r\n                            e.children = [];\r\n                        } else {\r\n                            e.value = e.id;\r\n                            e.label = e.title;\r\n                        }\r\n                        if (e.status == -1) {\r\n                            e.label = \"[已禁用] \" + e.label;\r\n                            e.disabled = true;\r\n                        }\r\n                    });\r\n                    item.children = res.result;\r\n                    callback();\r\n                }\r\n            });\r\n        },\r\n        handleChangeDep(value, selectedData) {\r\n            let departmentId = \"\";\r\n            // 获取最后一个值\r\n            if (value && value.length > 0) {\r\n                departmentId = value[value.length - 1];\r\n            }\r\n            this.$emit(\"on-change\", departmentId);\r\n        },\r\n        clearSelect() {\r\n            this.selectDep = [];\r\n        }\r\n    },\r\n    mounted() {\r\n        this.initDepartmentData();\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n</style>\r\n"],"mappings":";;;;;;;AAOA,SACAA,cAAA,QACA;AACA;EACAC,IAAA;EACAC,KAAA,GAEA;EACAC,KAAA;IACA;MACAC,SAAA;MACAC,UAAA;IACA;EACA;EACAC,OAAA;IACAC,mBAAA;MACAP,cAAA,GAAAQ,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,OAAA;UACAD,GAAA,CAAAE,MAAA,CAAAC,OAAA,WAAAC,CAAA;YACA,IAAAA,CAAA,CAAAC,QAAA;cACAD,CAAA,CAAAE,KAAA,GAAAF,CAAA,CAAAG,EAAA;cACAH,CAAA,CAAAI,KAAA,GAAAJ,CAAA,CAAAK,KAAA;cACAL,CAAA,CAAAM,OAAA;cACAN,CAAA,CAAAO,QAAA;YACA;cACAP,CAAA,CAAAE,KAAA,GAAAF,CAAA,CAAAG,EAAA;cACAH,CAAA,CAAAI,KAAA,GAAAJ,CAAA,CAAAK,KAAA;YACA;YACA,IAAAL,CAAA,CAAAQ,MAAA;cACAR,CAAA,CAAAI,KAAA,cAAAJ,CAAA,CAAAI,KAAA;cACAJ,CAAA,CAAAS,QAAA;YACA;UACA;UACA,KAAAjB,UAAA,GAAAI,GAAA,CAAAE,MAAA;QACA;MACA;IACA;IACAY,SAAAC,IAAA,EAAAC,QAAA;MACAD,IAAA,CAAAL,OAAA;MACAnB,cAAA;QACA0B,QAAA,EAAAF,IAAA,CAAAT;MACA,GAAAP,IAAA,CAAAC,GAAA;QACAe,IAAA,CAAAL,OAAA;QACA,IAAAV,GAAA,CAAAC,OAAA;UACAD,GAAA,CAAAE,MAAA,CAAAC,OAAA,WAAAC,CAAA;YACA,IAAAA,CAAA,CAAAC,QAAA;cACAD,CAAA,CAAAE,KAAA,GAAAF,CAAA,CAAAG,EAAA;cACAH,CAAA,CAAAI,KAAA,GAAAJ,CAAA,CAAAK,KAAA;cACAL,CAAA,CAAAM,OAAA;cACAN,CAAA,CAAAO,QAAA;YACA;cACAP,CAAA,CAAAE,KAAA,GAAAF,CAAA,CAAAG,EAAA;cACAH,CAAA,CAAAI,KAAA,GAAAJ,CAAA,CAAAK,KAAA;YACA;YACA,IAAAL,CAAA,CAAAQ,MAAA;cACAR,CAAA,CAAAI,KAAA,cAAAJ,CAAA,CAAAI,KAAA;cACAJ,CAAA,CAAAS,QAAA;YACA;UACA;UACAE,IAAA,CAAAJ,QAAA,GAAAX,GAAA,CAAAE,MAAA;UACAc,QAAA;QACA;MACA;IACA;IACAE,gBAAAZ,KAAA,EAAAa,YAAA;MACA,IAAAC,YAAA;MACA;MACA,IAAAd,KAAA,IAAAA,KAAA,CAAAe,MAAA;QACAD,YAAA,GAAAd,KAAA,CAAAA,KAAA,CAAAe,MAAA;MACA;MACA,KAAAC,KAAA,cAAAF,YAAA;IACA;IACAG,YAAA;MACA,KAAA5B,SAAA;IACA;EACA;EACA6B,QAAA;IACA,KAAA1B,kBAAA;EACA;AACA","ignoreList":[]}]}