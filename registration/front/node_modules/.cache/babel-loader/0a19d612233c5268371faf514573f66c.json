{"remainingRequest":"D:\\graduateSys\\registration\\front\\node_modules\\babel-loader\\lib\\index.js!D:\\graduateSys\\registration\\front\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\graduateSys\\registration\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\graduateSys\\registration\\front\\src\\views\\menu\\menu\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\graduateSys\\registration\\front\\src\\views\\menu\\menu\\index.vue","mtime":1743403543362},{"path":"D:\\graduateSys\\registration\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1739857231742},{"path":"D:\\graduateSys\\registration\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":1739857230815},{"path":"D:\\graduateSys\\registration\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1739857231742},{"path":"D:\\graduateSys\\registration\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":1739857212415}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGFkZFBlcm1pc3Npb24sIGVkaXRQZXJtaXNzaW9uLCBkZWxldGVQZXJtaXNzaW9uLCBzZWFyY2hQZXJtaXNzaW9uLCBnZXREaWN0RGF0YUJ5VHlwZSwgZ2V0VXNlckJ5UGVybWlzc2lvbiB9IGZyb20gIi4vYXBpLmpzIjsKaW1wb3J0IEljb25DaG9vc2UgZnJvbSAiQC92aWV3cy90ZW1wbGF0ZS9pY29uLWNob29zZSI7CmltcG9ydCB1dGlsIGZyb20gIkAvbGlicy91dGlsLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJtZW51IiwKICBjb21wb25lbnRzOiB7CiAgICBJY29uQ2hvb3NlCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlckJ5UGVybWlzc2lvbkxvYWRpbmc6IGZhbHNlLAogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICBzdHJpY3Q6IHRydWUsCiAgICAgIG1heEhlaWdodDogNTAwLAogICAgICBtZW51TW9kYWxWaXNpYmxlOiBmYWxzZSwKICAgICAgaWNvbk1vZGFsVmlzaWJsZTogZmFsc2UsCiAgICAgIHNlbGVjdExpc3Q6IFtdLAogICAgICBzZWxlY3RDb3VudDogMCwKICAgICAgc2hvd1BhcmVudDogZmFsc2UsCiAgICAgIHNlYXJjaEtleTogIiIsCiAgICAgIHBhcmVudFRpdGxlOiAiIiwKICAgICAgZWRpdFRpdGxlOiAiIiwKICAgICAgbW9kYWxUaXRsZTogIiIsCiAgICAgIGZvcm06IHsKICAgICAgICBpZDogIiIsCiAgICAgICAgdGl0bGU6ICIiLAogICAgICAgIG5hbWU6ICIiLAogICAgICAgIGljb246ICIiLAogICAgICAgIHBhdGg6ICIiLAogICAgICAgIGNvbXBvbmVudDogIiIsCiAgICAgICAgcGFyZW50SWQ6ICIiLAogICAgICAgIGJ1dHRvblR5cGU6ICIiLAogICAgICAgIHR5cGU6IDAsCiAgICAgICAgc29ydE9yZGVyOiAwLAogICAgICAgIGxldmVsOiAwLAogICAgICAgIHN0YXR1czogMCwKICAgICAgICB1cmw6ICIiCiAgICAgIH0sCiAgICAgIGZvcm1BZGQ6IHsKICAgICAgICBidXR0b25UeXBlOiAiIgogICAgICB9LAogICAgICBmb3JtVmFsaWRhdGU6IHsKICAgICAgICB0aXRsZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuiPnOWNleWQjeensOS4jeiDveS4uuepuiIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBuYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6Lev55Sx6Iux5paH5ZCN5LiN6IO95Li656m6IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIGljb246IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLlm77moIfkuI3og73kuLrnqboiLAogICAgICAgICAgdHJpZ2dlcjogImNsaWNrIgogICAgICAgIH1dLAogICAgICAgIHBhdGg6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLot6/lvoTkuI3og73kuLrnqboiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgY29tcG9uZW50OiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi5YmN56uv5Luj56CB5LiN6IO95Li656m6IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIHNvcnRPcmRlcjogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgdHlwZTogIm51bWJlciIsCiAgICAgICAgICBtZXNzYWdlOiAi5o6S5bqP5YC85LiN6IO95Li656m6IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIHN1Ym1pdExvYWRpbmc6IGZhbHNlLAogICAgICBkYXRhOiBbXSwKICAgICAgZGljdFBlcm1pc3Npb25zOiBbXSwKICAgICAgdXNlckJ5UGVybWlzc2lvbkxpc3Q6IFtdLAogICAgICB1c2VyQnlQZXJtaXNzaW9uQ29sdW1uczogW3sKICAgICAgICB0aXRsZTogIueUqOaIt+WQjSIsCiAgICAgICAga2V5OiAidXNlck5hbWUiLAogICAgICAgIG1pbldpZHRoOiAxMjAsCiAgICAgICAgdG9vbHRpcDogdHJ1ZSwKICAgICAgICBzb3J0YWJsZTogZmFsc2UKICAgICAgfSwgewogICAgICAgIHRpdGxlOiAi5a+55bqU6KeS6ImyIiwKICAgICAgICBrZXk6ICJyb2xlU3RyIiwKICAgICAgICBtaW5XaWR0aDogMjAwLAogICAgICAgIHRvb2x0aXA6IHRydWUsCiAgICAgICAgc29ydGFibGU6IGZhbHNlCiAgICAgIH0sIHsKICAgICAgICB0aXRsZTogIueZu+mZhui0puWPtyIsCiAgICAgICAga2V5OiAiY29kZSIsCiAgICAgICAgbWluV2lkdGg6IDEyMCwKICAgICAgICB0b29sdGlwOiB0cnVlLAogICAgICAgIHNvcnRhYmxlOiBmYWxzZQogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICLnlKjmiLfmiYvmnLoiLAogICAgICAgIGtleTogIm1vYmlsZSIsCiAgICAgICAgbWluV2lkdGg6IDEyMCwKICAgICAgICB0b29sdGlwOiB0cnVlLAogICAgICAgIHNvcnRhYmxlOiBmYWxzZQogICAgICB9LCB7CiAgICAgICAgdGl0bGU6ICLnlKjmiLfmoIfor4YiLAogICAgICAgIGtleTogInVzZXJJZCIsCiAgICAgICAgbWluV2lkdGg6IDEyMCwKICAgICAgICB0b29sdGlwOiB0cnVlLAogICAgICAgIHNvcnRhYmxlOiBmYWxzZQogICAgICB9XQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXQoKSB7CiAgICAgIHRoaXMuZ2V0UGVybWlzc2lvbkxpc3QoKTsKICAgICAgdGhpcy5nZXREaWN0UGVybWlzc2lvbnMoKTsKICAgIH0sCiAgICBnZXREaWN0UGVybWlzc2lvbnMoKSB7CiAgICAgIGdldERpY3REYXRhQnlUeXBlKCJwZXJtaXNzaW9uX3R5cGUiKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICB0aGlzLmRpY3RQZXJtaXNzaW9ucyA9IHJlcy5yZXN1bHQ7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICByZW5kZXJDb250ZW50KGgsIHsKICAgICAgcm9vdCwKICAgICAgbm9kZSwKICAgICAgZGF0YQogICAgfSkgewogICAgICBsZXQgaWNvbiA9ICIiOwogICAgICBpZiAoZGF0YS5sZXZlbCA9PSAwKSB7CiAgICAgICAgaWNvbiA9ICJpb3MtbmF2aWdhdGUiOwogICAgICB9IGVsc2UgaWYgKGRhdGEubGV2ZWwgPT0gMSkgewogICAgICAgIGljb24gPSAibWQtbGlzdC1ib3giOwogICAgICB9IGVsc2UgaWYgKGRhdGEubGV2ZWwgPT0gMikgewogICAgICAgIGljb24gPSAibWQtbGlzdCI7CiAgICAgIH0gZWxzZSBpZiAoZGF0YS5sZXZlbCA9PSAzKSB7CiAgICAgICAgaWNvbiA9ICJtZC1yYWRpby1idXR0b24tb24iOwogICAgICB9IGVsc2UgewogICAgICAgIGljb24gPSAibWQtcmFkaW8tYnV0dG9uLW9mZiI7CiAgICAgIH0KICAgICAgcmV0dXJuIGgoInNwYW4iLCBbaCgic3BhbiIsIFtoKCJJY29uIiwgewogICAgICAgIHByb3BzOiB7CiAgICAgICAgICB0eXBlOiBpY29uLAogICAgICAgICAgc2l6ZTogIjE2IgogICAgICAgIH0sCiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICJtYXJnaW4tcmlnaHQiOiAiOHB4IiwKICAgICAgICAgICJtYXJnaW4tYm90dG9tIjogIjNweCIKICAgICAgICB9CiAgICAgIH0pLCBoKCJzcGFuIiwgZGF0YS50aXRsZSldKV0pOwogICAgfSwKICAgIGdldFBlcm1pc3Npb25MaXN0KCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB0aGlzLmdldFJlcXVlc3QoIi9wZXJtaXNzaW9uL2dldEFsbExpc3QiKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICB0aGlzLmRhdGEgPSByZXMucmVzdWx0OwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc2VhcmNoKCkgewogICAgICBpZiAodGhpcy5zZWFyY2hLZXkpIHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgIHNlYXJjaFBlcm1pc3Npb24oewogICAgICAgICAgdGl0bGU6IHRoaXMuc2VhcmNoS2V5CiAgICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgdGhpcy5kYXRhID0gcmVzLnJlc3VsdDsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmdldFBlcm1pc3Npb25MaXN0KCk7CiAgICAgIH0KICAgIH0sCiAgICBzZWxlY3RUcmVlKHYpIHsKICAgICAgaWYgKHYubGVuZ3RoID4gMCkgewogICAgICAgIC8vIOi9rOaNom51bGzkuLoiIgogICAgICAgIGZvciAobGV0IGF0dHIgaW4gdlswXSkgewogICAgICAgICAgaWYgKHZbMF1bYXR0cl0gPT0gbnVsbCkgewogICAgICAgICAgICB2WzBdW2F0dHJdID0gIiI7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGxldCBzdHIgPSBKU09OLnN0cmluZ2lmeSh2WzBdKTsKICAgICAgICBsZXQgbWVudSA9IEpTT04ucGFyc2Uoc3RyKTsKICAgICAgICB0aGlzLmZvcm0gPSBtZW51OwogICAgICAgIHRoaXMuZWRpdFRpdGxlID0gbWVudS50aXRsZTsKICAgICAgICB0aGlzLmdldFVzZXJCeVBlcm1pc3Npb24oKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNhbmNlbEVkaXQoKTsKICAgICAgICB0aGlzLnVzZXJCeVBlcm1pc3Npb25MaXN0ID0gW107CiAgICAgIH0KICAgIH0sCiAgICBnZXRVc2VyQnlQZXJtaXNzaW9uKCkgewogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIHRoYXQudXNlckJ5UGVybWlzc2lvbkxvYWRpbmcgPSB0cnVlOwogICAgICBnZXRVc2VyQnlQZXJtaXNzaW9uKHsKICAgICAgICBwZXJtaXNzaW9uSWQ6IHRoYXQuZm9ybS5pZAogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhhdC51c2VyQnlQZXJtaXNzaW9uTG9hZGluZyA9IGZhbHNlOwogICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgdGhhdC51c2VyQnlQZXJtaXNzaW9uTGlzdCA9IHJlcy5yZXN1bHQ7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBjYW5jZWxFZGl0KCkgewogICAgICBsZXQgZGF0YSA9IHRoaXMuJHJlZnMudHJlZS5nZXRTZWxlY3RlZE5vZGVzKClbMF07CiAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgZGF0YS5zZWxlY3RlZCA9IGZhbHNlOwogICAgICB9CiAgICAgIHRoaXMuJHJlZnMuZm9ybS5yZXNldEZpZWxkcygpOwogICAgICB0aGlzLmZvcm0uaWQgPSAiIjsKICAgICAgdGhpcy5lZGl0VGl0bGUgPSAiIjsKICAgIH0sCiAgICBoYW5kbGVSZXNldCgpIHsKICAgICAgbGV0IHR5cGUgPSB0aGlzLmZvcm0udHlwZTsKICAgICAgdGhpcy4kcmVmcy5mb3JtLnJlc2V0RmllbGRzKCk7CiAgICAgIHRoaXMuZm9ybS5pY29uID0gIiI7CiAgICAgIHRoaXMuZm9ybS5jb21wb25lbnQgPSAiIjsKICAgICAgdGhpcy5mb3JtLnR5cGUgPSB0eXBlOwogICAgfSwKICAgIHN1Ym1pdEVkaXQoKSB7CiAgICAgIHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBpZiAoIXRoaXMuZm9ybS5pZCkgewogICAgICAgICAgICB0aGlzLiRNZXNzYWdlLndhcm5pbmcoIuivt+WFiOeCueWHu+mAieaLqeimgeS/ruaUueeahOiPnOWNleiKgueCuSIpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnN1Ym1pdExvYWRpbmcgPSB0cnVlOwogICAgICAgICAgaWYgKHRoaXMuZm9ybS5zb3J0T3JkZXIgPT0gbnVsbCkgewogICAgICAgICAgICB0aGlzLmZvcm0uc29ydE9yZGVyID0gIiI7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodGhpcy5mb3JtLmJ1dHRvblR5cGUgPT0gbnVsbCkgewogICAgICAgICAgICB0aGlzLmZvcm0uYnV0dG9uVHlwZSA9ICIiOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHRoaXMuZm9ybS50eXBlID09IDEpIHsKICAgICAgICAgICAgdGhpcy5mb3JtLm5hbWUgPSAiIjsKICAgICAgICAgICAgdGhpcy5mb3JtLmljb24gPSAiIjsKICAgICAgICAgICAgdGhpcy5mb3JtLmNvbXBvbmVudCA9ICIiOwogICAgICAgICAgfQogICAgICAgICAgZGVsZXRlIHRoaXMuZm9ybS51cGRhdGVUaW1lOwogICAgICAgICAgZGVsZXRlIHRoaXMuZm9ybS5jaGlsZHJlbjsKICAgICAgICAgIGVkaXRQZXJtaXNzaW9uKHRoaXMuZm9ybSkudGhlbihyZXMgPT4gewogICAgICAgICAgICB0aGlzLnN1Ym1pdExvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKCLnvJbovpHmiJDlip8iKTsKICAgICAgICAgICAgICAvLyDmoIforrDph43mlrDojrflj5boj5zljZXmlbDmja4KICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNldEFkZGVkIiwgZmFsc2UpOwogICAgICAgICAgICAgIHV0aWwuaW5pdFJvdXRlcih0aGlzKTsKICAgICAgICAgICAgICB0aGlzLmluaXQoKTsKICAgICAgICAgICAgICB0aGlzLm1lbnVNb2RhbFZpc2libGUgPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzdWJtaXRBZGQoKSB7CiAgICAgIHRoaXMuJHJlZnMuZm9ybUFkZC52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICB0aGlzLnN1Ym1pdExvYWRpbmcgPSB0cnVlOwogICAgICAgICAgaWYgKHRoaXMuZm9ybUFkZC50eXBlID09IDEpIHsKICAgICAgICAgICAgdGhpcy5mb3JtQWRkLm5hbWUgPSAiIjsKICAgICAgICAgICAgdGhpcy5mb3JtQWRkLmljb24gPSAiIjsKICAgICAgICAgICAgdGhpcy5mb3JtQWRkLmNvbXBvbmVudCA9ICIiOwogICAgICAgICAgfQogICAgICAgICAgYWRkUGVybWlzc2lvbih0aGlzLmZvcm1BZGQpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgdGhpcy5zdWJtaXRMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2Vzcygi5re75Yqg5oiQ5YqfIik7CiAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRBZGRlZCIsIGZhbHNlKTsKICAgICAgICAgICAgICB1dGlsLmluaXRSb3V0ZXIodGhpcyk7CiAgICAgICAgICAgICAgdGhpcy5pbml0KCk7CiAgICAgICAgICAgICAgdGhpcy5tZW51TW9kYWxWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgYWRkTWVudSgpIHsKICAgICAgaWYgKCF0aGlzLmZvcm0uaWQpIHsKICAgICAgICB0aGlzLm1vZGFsVGl0bGUgPSAi5re75Yqg6aG26YOo6I+c5Y2VKOWPr+aLluWKqCkiOwogICAgICAgIHRoaXMuc2hvd1BhcmVudCA9IGZhbHNlOwogICAgICAgIHRoaXMuZm9ybUFkZCA9IHsKICAgICAgICAgIHR5cGU6IC0xLAogICAgICAgICAgbGV2ZWw6IDAsCiAgICAgICAgICBzb3J0T3JkZXI6IDAsCiAgICAgICAgICBzdGF0dXM6IDAKICAgICAgICB9OwogICAgICAgIHRoaXMubWVudU1vZGFsVmlzaWJsZSA9IHRydWU7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMucGFyZW50VGl0bGUgPSB0aGlzLmZvcm0udGl0bGU7CiAgICAgIHRoaXMubW9kYWxUaXRsZSA9ICLmt7vliqDlrZDoioLngrkiOwogICAgICB0aGlzLnNob3dQYXJlbnQgPSB0cnVlOwogICAgICBsZXQgdHlwZSA9IDA7CiAgICAgIGlmICh0aGlzLmZvcm0ubGV2ZWwgPT0gMSkgewogICAgICAgIHR5cGUgPSAwOwogICAgICB9IGVsc2UgaWYgKHRoaXMuZm9ybS5sZXZlbCA9PSAyKSB7CiAgICAgICAgdHlwZSA9IDE7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5mb3JtLmxldmVsID09IDMpIHsKICAgICAgICB0aGlzLiRNb2RhbC53YXJuaW5nKHsKICAgICAgICAgIHRpdGxlOiAi5oqx5q2J77yM5LiN6IO95re75Yqg5ZWmIiwKICAgICAgICAgIGNvbnRlbnQ6ICLku4XmlK/mjIEy57qn6I+c5Y2V55uu5b2VIgogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0eXBlID0gMDsKICAgICAgfQogICAgICBsZXQgY29tcG9uZW50ID0gIiI7CiAgICAgIHRoaXMuZm9ybUFkZCA9IHsKICAgICAgICBpY29uOiAiIiwKICAgICAgICB0eXBlOiB0eXBlLAogICAgICAgIHBhcmVudElkOiB0aGlzLmZvcm0uaWQsCiAgICAgICAgbGV2ZWw6IE51bWJlcih0aGlzLmZvcm0ubGV2ZWwpICsgMSwKICAgICAgICBzb3J0T3JkZXI6IDAsCiAgICAgICAgYnV0dG9uVHlwZTogIiIsCiAgICAgICAgc3RhdHVzOiAwCiAgICAgIH07CiAgICAgIGlmICh0aGlzLmZvcm0ubGV2ZWwgPT0gMCkgewogICAgICAgIHRoaXMuZm9ybUFkZC5wYXRoID0gIi8iOwogICAgICAgIHRoaXMuZm9ybUFkZC5jb21wb25lbnQgPSAiTWFpbiI7CiAgICAgIH0KICAgICAgdGhpcy5tZW51TW9kYWxWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICBjaGFuZ2VTZWxlY3QodikgewogICAgICB0aGlzLnNlbGVjdENvdW50ID0gdi5sZW5ndGg7CiAgICAgIHRoaXMuc2VsZWN0TGlzdCA9IHY7CiAgICB9LAogICAgZGVsZXRlUGVybWlzc2lvbkZ4KCkgewogICAgICBpZiAodGhpcy5zZWxlY3RDb3VudCA8PSAwKSB7CiAgICAgICAgdGhpcy4kTWVzc2FnZS53YXJuaW5nKCLor7fpgInmi6nopoHliKDpmaTnmoToj5zljZUiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy4kTW9kYWwuY29uZmlybSh7CiAgICAgICAgdGl0bGU6ICLnoa7orqTliKDpmaQiLAogICAgICAgIGNvbnRlbnQ6ICLmgqjnoa7orqTopoHliKDpmaTmiYDpgInnmoQgIiArIHRoaXMuc2VsZWN0Q291bnQgKyAiIOadoeaVsOaNrj8iLAogICAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgICAgb25PazogKCkgPT4gewogICAgICAgICAgbGV0IGlkcyA9ICIiOwogICAgICAgICAgdGhpcy5zZWxlY3RMaXN0LmZvckVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgaWRzICs9IGUuaWQgKyAiLCI7CiAgICAgICAgICB9KTsKICAgICAgICAgIGlkcyA9IGlkcy5zdWJzdHJpbmcoMCwgaWRzLmxlbmd0aCAtIDEpOwogICAgICAgICAgZGVsZXRlUGVybWlzc2lvbih7CiAgICAgICAgICAgIGlkczogaWRzCiAgICAgICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIHRoaXMuJE1vZGFsLnJlbW92ZSgpOwogICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MoIuWIoOmZpOaIkOWKnyIpOwogICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0QWRkZWQiLCBmYWxzZSk7CiAgICAgICAgICAgICAgdXRpbC5pbml0Um91dGVyKHRoaXMpOwogICAgICAgICAgICAgIHRoaXMuc2VsZWN0TGlzdCA9IFtdOwogICAgICAgICAgICAgIHRoaXMuc2VsZWN0Q291bnQgPSAwOwogICAgICAgICAgICAgIHRoaXMuY2FuY2VsRWRpdCgpOwogICAgICAgICAgICAgIHRoaXMuaW5pdCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIGxldCBoZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OwogICAgdGhpcy5tYXhIZWlnaHQgPSBOdW1iZXIoaGVpZ2h0IC0gMjYwKTsKICAgIHRoaXMuaW5pdCgpOwogIH0KfTs="},{"version":3,"names":["addPermission","editPermission","deletePermission","searchPermission","getDictDataByType","getUserByPermission","IconChoose","util","name","components","data","userByPermissionLoading","loading","strict","maxHeight","menuModalVisible","iconModalVisible","selectList","selectCount","showParent","searchKey","parentTitle","editTitle","modalTitle","form","id","title","icon","path","component","parentId","buttonType","type","sortOrder","level","status","url","formAdd","formValidate","required","message","trigger","submitLoading","dictPermissions","userByPermissionList","userByPermissionColumns","key","minWidth","tooltip","sortable","methods","init","getPermissionList","getDictPermissions","then","res","success","result","renderContent","h","root","node","props","size","style","getRequest","search","selectTree","v","length","attr","str","JSON","stringify","menu","parse","cancelEdit","that","permissionId","$refs","tree","getSelectedNodes","selected","resetFields","handleReset","submitEdit","validate","valid","$Message","warning","updateTime","children","$store","commit","initRouter","submitAdd","addMenu","$Modal","content","Number","changeSelect","deletePermissionFx","confirm","onOk","ids","forEach","e","substring","remove","mounted","height","document","documentElement","clientHeight"],"sources":["src/views/menu/menu/index.vue"],"sourcesContent":["<template>\r\n<div class=\"search\">\r\n    <Card>\r\n        <Row :gutter=\"16\">\r\n            <Col span=\"7\">\r\n            <Row :gutter=\"16\">\r\n                <Col span=\"23\">\r\n                <div class=\"tree-bar\" style=\"overflow-y: scroll;padding-right: 50px;\" :style=\"{maxHeight: maxHeight + 'px'}\">\r\n                    <Tree ref=\"tree\" :data=\"data\" show-checkbox :render=\"renderContent\" @on-select-change=\"selectTree\" @on-check-change=\"changeSelect\" :check-strictly=\"!strict\"></Tree>\r\n                    <Spin size=\"large\" fix v-if=\"loading\"></Spin>\r\n                </div>\r\n                </Col>\r\n            </Row>\r\n            </Col>\r\n            <Col span=\"15\">\r\n            <Row class=\"operation\">\r\n                <Col span=\"12\">\r\n                <Button @click=\"addMenu\" type=\"primary\" shape=\"circle\" ghost icon=\"md-add\">添加菜单</Button>\r\n                <Button @click=\"deletePermissionFx\" type=\"error\" shape=\"circle\" ghost icon=\"md-trash\">删除菜单</Button>\r\n                <Button @click=\"getPermissionList\" type=\"success\" shape=\"circle\" ghost icon=\"md-trash\">刷新菜单</Button>\r\n                <i-switch v-model=\"strict\" size=\"large\" style=\"margin-left:5px\">\r\n                    <span slot=\"open\">级联</span>\r\n                    <span slot=\"close\">单选</span>\r\n                </i-switch>\r\n                </Col>\r\n                <Col span=\"12\">\r\n                <Input v-model=\"searchKey\" suffix=\"ios-search\" @on-change=\"search\" placeholder=\"模拟搜索菜单\" clearable />\r\n                </Col>\r\n            </Row>\r\n            <Divider dashed />\r\n            <Row :gutter=\"16\" v-show=\"form.id\">\r\n                <Col span=\"24\">\r\n                <Alert show-icon type=\"success\">\r\n                    当前选择的菜单：\r\n                    <span class=\"select-title\">{{editTitle}}</span>\r\n                    <Divider type=\"vertical\" />\r\n                    <a class=\"select-clear\" @click=\"cancelEdit\">取消选择</a>\r\n                </Alert>\r\n                </Col>\r\n                <Divider dashed />\r\n            </Row>\r\n            <Form ref=\"form\" :model=\"form\" :label-width=\"110\" :rules=\"formValidate\">\r\n                <Row :gutter=\"16\">\r\n                    <Col span=\"12\">\r\n                    <FormItem label=\"类型\" prop=\"type\">\r\n                        <div v-show=\"form.type==-1\">\r\n                            <Icon type=\"ios-navigate-outline\" size=\"16\" style=\"margin-right:5px;\"></Icon>\r\n                            <span>一级菜单</span>\r\n                        </div>\r\n                        <div v-show=\"form.type==0\">\r\n                            <Icon type=\"ios-list-box-outline\" size=\"16\" style=\"margin-right:5px;\"></Icon>\r\n                            <span>普通菜单</span>\r\n                        </div>\r\n                        <div v-show=\"form.type==1\">\r\n                            <Icon type=\"md-radio-button-on\" size=\"16\" style=\"margin-right:5px;\"></Icon>\r\n                            <span>按钮级权限</span>\r\n                        </div>\r\n                    </FormItem>\r\n                    </Col>\r\n                    <Col span=\"12\" v-show=\"form.type==-1||form.type==0\">\r\n                    <FormItem label=\"名称\" prop=\"title\">\r\n                        <Input v-model=\"form.title\" style=\"width:100%\" />\r\n                    </FormItem>\r\n                    </Col>\r\n                    <Col span=\"12\" v-show=\"form.type==1\">\r\n                    <FormItem label=\"名称\" prop=\"title\">\r\n                        <Input v-model=\"form.title\" placeholder=\"操作按钮名称不得重复\" style=\"width:100%\" />\r\n                    </FormItem>\r\n                    </Col>\r\n                    <Col span=\"12\" v-show=\"form.type==0\">\r\n                    <FormItem label=\"路径\" prop=\"path\">\r\n                        <Input v-model=\"form.path\" style=\"width:100%\" />\r\n                    </FormItem>\r\n                    </Col>\r\n                    <Col span=\"12\" v-show=\"form.type==1\">\r\n                    <FormItem label=\"请求路径\" prop=\"path\">\r\n                        <Input v-model=\"form.path\" placeholder=\"若无可填写'无'\" style=\"width:100%\" />\r\n                    </FormItem>\r\n                    </Col>\r\n                    <Col span=\"12\" v-show=\"form.type==1\">\r\n                    <FormItem label=\"按钮权限类型\" prop=\"buttonType\">\r\n                        <Select v-model=\"form.buttonType\" placeholder=\"请选择或输入搜索\" filterable clearable style=\"width:100%\">\r\n                            <Option v-for=\"(item, i) in dictPermissions\" :key=\"i\" :value=\"item.value\">{{item.title}}</Option>\r\n                        </Select>\r\n                    </FormItem>\r\n                    </Col>\r\n                    <Col span=\"12\" v-show=\"form.type==-1\">\r\n                    <FormItem :label=\"form.type==-1? '英文名' : '路由英文名'\" prop=\"name\">\r\n                        <Input v-model=\"form.name\" placeholder=\"需唯一\" style=\"width:100%\" />\r\n                    </FormItem>\r\n                    </Col>\r\n                    <Col span=\"12\" v-show=\"form.type==-1||form.type==0\">\r\n                    <FormItem label=\"图标\" prop=\"icon\">\r\n                        <icon-choose v-model=\"form.icon\"></icon-choose>\r\n                    </FormItem>\r\n                    </Col>\r\n                    <Col span=\"12\" v-show=\"form.type==0\">\r\n                    <FormItem label=\"前端代码\" prop=\"component\">\r\n                        <Input v-model=\"form.component\" style=\"width:100%\" />\r\n                    </FormItem>\r\n                    </Col>\r\n                    <Col span=\"12\">\r\n                    <FormItem label=\"排序值\" prop=\"sortOrder\">\r\n                        <InputNumber :max=\"1000\" :min=\"0\" v-model=\"form.sortOrder\" style=\"width:100%\"></InputNumber>\r\n                    </FormItem>\r\n                    </Col>\r\n                    <Col span=\"12\">\r\n                    <FormItem label=\"是否启用\" prop=\"status\">\r\n                        <i-switch size=\"large\" v-model=\"form.status\" :true-value=\"0\" :false-value=\"-1\">\r\n                            <span slot=\"open\">启用</span>\r\n                            <span slot=\"close\">禁用</span>\r\n                        </i-switch>\r\n                    </FormItem>\r\n                    </Col>\r\n                    <Col span=\"12\">\r\n                    <Form-item>\r\n                        <Button style=\"margin-right:5px\" @click=\"submitEdit\" ghost shape=\"circle\" :loading=\"submitLoading\" type=\"primary\" icon=\"ios-create-outline\">保存菜单</Button>\r\n                        <Divider type=\"vertical\" />\r\n                        <Button icon=\"ios-undo\" type=\"error\" ghost shape=\"circle\" @click=\"handleReset\">重置菜单</Button>\r\n                    </Form-item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n            <Divider>有 {{form.title}} 权限的用户</Divider>\r\n            <Row :gutter=\"16\">\r\n                <Table :loading=\"userByPermissionLoading\" border stripe size=\"small\" :columns=\"userByPermissionColumns\" :data=\"userByPermissionList\"></Table>\r\n            </Row>\r\n            </Col>\r\n        </Row>\r\n    </Card>\r\n\r\n    <Modal draggable :title=\"modalTitle\" v-model=\"menuModalVisible\" :mask=\"false\" :width=\"500\" :styles=\"{top: '30px'}\">\r\n        <Form ref=\"formAdd\" :model=\"formAdd\" :label-width=\"100\" :rules=\"formValidate\">\r\n            <div v-if=\"showParent\">\r\n                <FormItem label=\"上级节点：\">{{parentTitle}}</FormItem>\r\n            </div>\r\n            <FormItem label=\"类型\" prop=\"type\">\r\n                <div v-show=\"formAdd.type==-1\">\r\n                    <Icon type=\"ios-navigate-outline\" size=\"16\" style=\"margin-right:5px;\"></Icon>\r\n                    <span>顶部菜单</span>\r\n                </div>\r\n                <div v-show=\"formAdd.type==0\">\r\n                    <Icon type=\"ios-list-box-outline\" size=\"16\" style=\"margin-right:5px;\"></Icon>\r\n                    <span>页面菜单</span>\r\n                </div>\r\n                <div v-show=\"formAdd.type==1\">\r\n                    <Icon type=\"md-radio-button-on\" size=\"16\" style=\"margin-right:5px;\"></Icon>\r\n                    <span>操作按钮</span>\r\n                </div>\r\n            </FormItem>\r\n            <FormItem label=\"名称\" prop=\"title\" v-if=\"formAdd.type==-1||formAdd.type==0\">\r\n                <Input v-model=\"formAdd.title\" />\r\n            </FormItem>\r\n            <FormItem label=\"名称\" prop=\"title\" v-if=\"formAdd.type==1\" class=\"block-tool\">\r\n                <Tooltip placement=\"right\" content=\"操作按钮名称不得重复\">\r\n                    <Input v-model=\"formAdd.title\" />\r\n                </Tooltip>\r\n            </FormItem>\r\n            <FormItem label=\"路径\" prop=\"path\" v-if=\"formAdd.type==0\">\r\n                <Input v-model=\"formAdd.path\" />\r\n            </FormItem>\r\n            <FormItem label=\"请求路径\" prop=\"path\" v-if=\"formAdd.type==1\" class=\"block-tool\">\r\n                <Tooltip placement=\"right\" :max-width=\"230\" transfer content=\"填写后端请求URL，后端将作权限拦截，若无可填写'无'或其他\">\r\n                    <Input v-model=\"formAdd.path\" />\r\n                </Tooltip>\r\n            </FormItem>\r\n            <FormItem label=\"按钮权限类型\" prop=\"buttonType\" v-if=\"formAdd.type==1\">\r\n                <Select v-model=\"formAdd.buttonType\" placeholder=\"请选择或输入搜索\" filterable clearable>\r\n                    <Option v-for=\"(item, i) in dictPermissions\" :key=\"i\" :value=\"item.value\">{{item.title}}</Option>\r\n                </Select>\r\n            </FormItem>\r\n            <FormItem label=\"英文名\" prop=\"name\" v-if=\"formAdd.type==-1\" class=\"block-tool\">\r\n                <Tooltip placement=\"right\" content=\"需唯一\">\r\n                    <Input v-model=\"formAdd.name\" />\r\n                </Tooltip>\r\n            </FormItem>\r\n            <FormItem label=\"路由英文名\" prop=\"name\" v-if=\"formAdd.type==0\" class=\"block-tool\">\r\n                <Tooltip placement=\"right\" content=\"需唯一\">\r\n                    <Input v-model=\"formAdd.name\" />\r\n                </Tooltip>\r\n            </FormItem>\r\n            <FormItem label=\"图标\" prop=\"icon\" v-if=\"formAdd.type==-1||formAdd.type==0\">\r\n                <icon-choose v-model=\"formAdd.icon\"></icon-choose>\r\n            </FormItem>\r\n            <FormItem label=\"前端代码\" prop=\"component\" v-if=\"formAdd.type==0\">\r\n                <Input v-model=\"formAdd.component\" />\r\n            </FormItem>\r\n            <FormItem label=\"排序值\" prop=\"sortOrder\">\r\n                <InputNumber :max=\"1000\" :min=\"0\" v-model=\"formAdd.sortOrder\"></InputNumber>\r\n            </FormItem>\r\n            <FormItem label=\"是否启用\" prop=\"status\">\r\n                <i-switch size=\"large\" v-model=\"formAdd.status\" :true-value=\"0\" :false-value=\"-1\">\r\n                    <span slot=\"open\">启用</span>\r\n                    <span slot=\"close\">禁用</span>\r\n                </i-switch>\r\n            </FormItem>\r\n        </Form>\r\n        <div slot=\"footer\">\r\n            <Button type=\"text\" @click=\"menuModalVisible = false\">取消</Button>\r\n            <Button type=\"primary\" :loading=\"submitLoading\" @click=\"submitAdd\">提交</Button>\r\n        </div>\r\n    </Modal>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n    addPermission,\r\n    editPermission,\r\n    deletePermission,\r\n    searchPermission,\r\n    getDictDataByType,\r\n    getUserByPermission\r\n} from \"./api.js\";\r\nimport IconChoose from \"@/views/template/icon-choose\";\r\nimport util from \"@/libs/util.js\";\r\nexport default {\r\n    name: \"menu\",\r\n    components: {\r\n        IconChoose\r\n    },\r\n    data() {\r\n        return {\r\n            userByPermissionLoading: false,\r\n            loading: true,\r\n            strict: true,\r\n            maxHeight: 500,\r\n            menuModalVisible: false,\r\n            iconModalVisible: false,\r\n            selectList: [],\r\n            selectCount: 0,\r\n            showParent: false,\r\n            searchKey: \"\",\r\n            parentTitle: \"\",\r\n            editTitle: \"\",\r\n            modalTitle: \"\",\r\n            form: {\r\n                id: \"\",\r\n                title: \"\",\r\n                name: \"\",\r\n                icon: \"\",\r\n                path: \"\",\r\n                component: \"\",\r\n                parentId: \"\",\r\n                buttonType: \"\",\r\n                type: 0,\r\n                sortOrder: 0,\r\n                level: 0,\r\n                status: 0,\r\n                url: \"\"\r\n            },\r\n            formAdd: {\r\n                buttonType: \"\"\r\n            },\r\n            formValidate: {\r\n                title: [{\r\n                    required: true,\r\n                    message: \"菜单名称不能为空\",\r\n                    trigger: \"blur\"\r\n                }],\r\n                name: [{\r\n                    required: true,\r\n                    message: \"路由英文名不能为空\",\r\n                    trigger: \"blur\"\r\n                }],\r\n                icon: [{\r\n                    required: true,\r\n                    message: \"图标不能为空\",\r\n                    trigger: \"click\"\r\n                }],\r\n                path: [{\r\n                    required: true,\r\n                    message: \"路径不能为空\",\r\n                    trigger: \"blur\"\r\n                }],\r\n                component: [{\r\n                    required: true,\r\n                    message: \"前端代码不能为空\",\r\n                    trigger: \"blur\"\r\n                }],\r\n                sortOrder: [{\r\n                    required: true,\r\n                    type: \"number\",\r\n                    message: \"排序值不能为空\",\r\n                    trigger: \"blur\"\r\n                }]\r\n            },\r\n            submitLoading: false,\r\n            data: [],\r\n            dictPermissions: [],\r\n            userByPermissionList: [],\r\n            userByPermissionColumns: [{\r\n                title: \"用户名\",\r\n                key: \"userName\",\r\n                minWidth: 120,\r\n                tooltip: true,\r\n                sortable: false,\r\n            }, {\r\n                title: \"对应角色\",\r\n                key: \"roleStr\",\r\n                minWidth: 200,\r\n                tooltip: true,\r\n                sortable: false,\r\n            }, {\r\n                title: \"登陆账号\",\r\n                key: \"code\",\r\n                minWidth: 120,\r\n                tooltip: true,\r\n                sortable: false,\r\n            }, {\r\n                title: \"用户手机\",\r\n                key: \"mobile\",\r\n                minWidth: 120,\r\n                tooltip: true,\r\n                sortable: false,\r\n            }, {\r\n                title: \"用户标识\",\r\n                key: \"userId\",\r\n                minWidth: 120,\r\n                tooltip: true,\r\n                sortable: false,\r\n            }]\r\n        };\r\n    },\r\n    methods: {\r\n        init() {\r\n            this.getPermissionList();\r\n            this.getDictPermissions();\r\n        },\r\n        getDictPermissions() {\r\n            getDictDataByType(\"permission_type\").then(res => {\r\n                if (res.success) {\r\n                    this.dictPermissions = res.result;\r\n                }\r\n            });\r\n        },\r\n        renderContent(h, {\r\n            root,\r\n            node,\r\n            data\r\n        }) {\r\n            let icon = \"\";\r\n            if (data.level == 0) {\r\n                icon = \"ios-navigate\";\r\n            } else if (data.level == 1) {\r\n                icon = \"md-list-box\";\r\n            } else if (data.level == 2) {\r\n                icon = \"md-list\";\r\n            } else if (data.level == 3) {\r\n                icon = \"md-radio-button-on\";\r\n            } else {\r\n                icon = \"md-radio-button-off\";\r\n            }\r\n            return h(\"span\", [\r\n                h(\"span\", [\r\n                    h(\"Icon\", {\r\n                        props: {\r\n                            type: icon,\r\n                            size: \"16\"\r\n                        },\r\n                        style: {\r\n                            \"margin-right\": \"8px\",\r\n                            \"margin-bottom\": \"3px\"\r\n                        }\r\n                    }),\r\n                    h(\"span\", data.title)\r\n                ])\r\n            ]);\r\n        },\r\n        getPermissionList() {\r\n            this.loading = true;\r\n            this.getRequest(\"/permission/getAllList\").then(res => {\r\n                this.loading = false;\r\n                if (res.success) {\r\n                    this.data = res.result;\r\n                }\r\n            });\r\n        },\r\n        search() {\r\n            if (this.searchKey) {\r\n                this.loading = true;\r\n                searchPermission({\r\n                    title: this.searchKey\r\n                }).then(res => {\r\n                    this.loading = false;\r\n                    if (res.success) {\r\n                        this.data = res.result;\r\n                    }\r\n                });\r\n            } else {\r\n                this.getPermissionList();\r\n            }\r\n        },\r\n        selectTree(v) {\r\n            if (v.length > 0) {\r\n                // 转换null为\"\"\r\n                for (let attr in v[0]) {\r\n                    if (v[0][attr] == null) {\r\n                        v[0][attr] = \"\";\r\n                    }\r\n                }\r\n                let str = JSON.stringify(v[0]);\r\n                let menu = JSON.parse(str);\r\n                this.form = menu;\r\n                this.editTitle = menu.title;\r\n                this.getUserByPermission();\r\n            } else {\r\n                this.cancelEdit();\r\n                this.userByPermissionList = [];\r\n            }\r\n        },\r\n        getUserByPermission() {\r\n            var that = this;\r\n            that.userByPermissionLoading = true;\r\n            getUserByPermission({\r\n                permissionId: that.form.id\r\n            }).then(res => {\r\n                that.userByPermissionLoading = false;\r\n                if (res.success) {\r\n                    that.userByPermissionList = res.result;\r\n                }\r\n            })\r\n        },\r\n        cancelEdit() {\r\n            let data = this.$refs.tree.getSelectedNodes()[0];\r\n            if (data) {\r\n                data.selected = false;\r\n            }\r\n            this.$refs.form.resetFields();\r\n            this.form.id = \"\";\r\n            this.editTitle = \"\";\r\n        },\r\n        handleReset() {\r\n            let type = this.form.type;\r\n            this.$refs.form.resetFields();\r\n            this.form.icon = \"\";\r\n            this.form.component = \"\";\r\n            this.form.type = type;\r\n        },\r\n        submitEdit() {\r\n            this.$refs.form.validate(valid => {\r\n                if (valid) {\r\n                    if (!this.form.id) {\r\n                        this.$Message.warning(\"请先点击选择要修改的菜单节点\");\r\n                        return;\r\n                    }\r\n                    this.submitLoading = true;\r\n                    if (this.form.sortOrder == null) {\r\n                        this.form.sortOrder = \"\";\r\n                    }\r\n                    if (this.form.buttonType == null) {\r\n                        this.form.buttonType = \"\";\r\n                    }\r\n                    if (this.form.type == 1) {\r\n                        this.form.name = \"\";\r\n                        this.form.icon = \"\";\r\n                        this.form.component = \"\";\r\n                    }\r\n                    delete this.form.updateTime;\r\n                    delete this.form.children;\r\n                    editPermission(this.form).then(res => {\r\n                        this.submitLoading = false;\r\n                        if (res.success) {\r\n                            this.$Message.success(\"编辑成功\");\r\n                            // 标记重新获取菜单数据\r\n                            this.$store.commit(\"setAdded\", false);\r\n                            util.initRouter(this);\r\n                            this.init();\r\n                            this.menuModalVisible = false;\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        },\r\n        submitAdd() {\r\n            this.$refs.formAdd.validate(valid => {\r\n                if (valid) {\r\n                    this.submitLoading = true;\r\n                    if (this.formAdd.type == 1) {\r\n                        this.formAdd.name = \"\";\r\n                        this.formAdd.icon = \"\";\r\n                        this.formAdd.component = \"\";\r\n                    }\r\n                    addPermission(this.formAdd).then(res => {\r\n                        this.submitLoading = false;\r\n                        if (res.success) {\r\n                            this.$Message.success(\"添加成功\");\r\n                            this.$store.commit(\"setAdded\", false);\r\n                            util.initRouter(this);\r\n                            this.init();\r\n                            this.menuModalVisible = false;\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        },\r\n        addMenu() {\r\n            if (!this.form.id) {\r\n                this.modalTitle = \"添加顶部菜单(可拖动)\";\r\n                this.showParent = false;\r\n                this.formAdd = {\r\n                    type: -1,\r\n                    level: 0,\r\n                    sortOrder: 0,\r\n                    status: 0\r\n                };\r\n                this.menuModalVisible = true;\r\n                return;\r\n            }\r\n            this.parentTitle = this.form.title;\r\n            this.modalTitle = \"添加子节点\";\r\n            this.showParent = true;\r\n            let type = 0;\r\n            if (this.form.level == 1) {\r\n                type = 0;\r\n            } else if (this.form.level == 2) {\r\n                type = 1;\r\n            } else if (this.form.level == 3) {\r\n                this.$Modal.warning({\r\n                    title: \"抱歉，不能添加啦\",\r\n                    content: \"仅支持2级菜单目录\"\r\n                });\r\n                return;\r\n            } else {\r\n                type = 0;\r\n            }\r\n            let component = \"\";\r\n            this.formAdd = {\r\n                icon: \"\",\r\n                type: type,\r\n                parentId: this.form.id,\r\n                level: Number(this.form.level) + 1,\r\n                sortOrder: 0,\r\n                buttonType: \"\",\r\n                status: 0\r\n            };\r\n            if (this.form.level == 0) {\r\n                this.formAdd.path = \"/\";\r\n                this.formAdd.component = \"Main\";\r\n            }\r\n            this.menuModalVisible = true;\r\n        },\r\n        changeSelect(v) {\r\n            this.selectCount = v.length;\r\n            this.selectList = v;\r\n        },\r\n        deletePermissionFx() {\r\n            if (this.selectCount <= 0) {\r\n                this.$Message.warning(\"请选择要删除的菜单\");\r\n                return;\r\n            }\r\n            this.$Modal.confirm({\r\n                title: \"确认删除\",\r\n                content: \"您确认要删除所选的 \" + this.selectCount + \" 条数据?\",\r\n                loading: true,\r\n                onOk: () => {\r\n                    let ids = \"\";\r\n                    this.selectList.forEach(function (e) {\r\n                        ids += e.id + \",\";\r\n                    });\r\n                    ids = ids.substring(0, ids.length - 1);\r\n                    deletePermission({\r\n                        ids: ids\r\n                    }).then(res => {\r\n                        this.$Modal.remove();\r\n                        if (res.success) {\r\n                            this.$Message.success(\"删除成功\");\r\n                            this.$store.commit(\"setAdded\", false);\r\n                            util.initRouter(this);\r\n                            this.selectList = [];\r\n                            this.selectCount = 0;\r\n                            this.cancelEdit();\r\n                            this.init();\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    },\r\n    mounted() {\r\n        let height = document.documentElement.clientHeight;\r\n        this.maxHeight = Number(height - 260);\r\n        this.init();\r\n    }\r\n};\r\n</script>\r\n"],"mappings":"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","ignoreList":[]}]}