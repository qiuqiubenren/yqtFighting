{"remainingRequest":"D:\\graduateSys\\registration\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\graduateSys\\registration\\front\\src\\views\\template\\user-choose.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\graduateSys\\registration\\front\\src\\views\\template\\user-choose.vue","mtime":1743403543383},{"path":"D:\\graduateSys\\registration\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1739857231742},{"path":"D:\\graduateSys\\registration\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":1739857230815},{"path":"D:\\graduateSys\\registration\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1739857231742},{"path":"D:\\graduateSys\\registration\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":1739857212415}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICAgIGdldFVzZXJMaXN0RGF0YQ0KfSBmcm9tICJAL2FwaS9pbmRleCI7DQppbXBvcnQgZGVwYXJ0bWVudENob29zZSBmcm9tICIuL2RlcGFydG1lbnQtY2hvb3NlIjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBuYW1lOiAidXNlckNob29zZSIsDQogICAgY29tcG9uZW50czogew0KICAgICAgICBkZXBhcnRtZW50Q2hvb3NlDQogICAgfSwNCiAgICBwcm9wczogew0KICAgICAgICB0ZXh0OiB7DQogICAgICAgICAgICB0eXBlOiBTdHJpbmcsDQogICAgICAgICAgICBkZWZhdWx0OiAi6YCJ5oup55So5oi3Ig0KICAgICAgICB9LA0KICAgICAgICBpY29uOiB7DQogICAgICAgICAgICB0eXBlOiBTdHJpbmcsDQogICAgICAgICAgICBkZWZhdWx0OiAibWQtcGVyc29uLWFkZCINCiAgICAgICAgfQ0KICAgIH0sDQogICAgZGF0YSgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIHVzZXJMb2FkaW5nOiB0cnVlLA0KICAgICAgICAgICAgdXNlck1vZGFsVmlzaWJsZTogZmFsc2UsDQogICAgICAgICAgICBzZWxlY3RVc2VyczogW10sDQogICAgICAgICAgICBzZWFyY2hVc2VyRm9ybTogew0KICAgICAgICAgICAgICAgIGlkOiAiIiwNCiAgICAgICAgICAgICAgICBuaWNrbmFtZTogIiIsDQogICAgICAgICAgICAgICAgdHlwZTogIiIsDQogICAgICAgICAgICAgICAgc3RhdHVzOiAiIiwNCiAgICAgICAgICAgICAgICBwYWdlTnVtYmVyOiAxLCAvLyDlvZPliY3pobXmlbANCiAgICAgICAgICAgICAgICBwYWdlU2l6ZTogMTAsIC8vIOmhtemdouWkp+Wwjw0KICAgICAgICAgICAgICAgIHNvcnQ6ICJjcmVhdGVUaW1lIiwgLy8g6buY6K6k5o6S5bqP5a2X5q61DQogICAgICAgICAgICAgICAgb3JkZXI6ICJkZXNjIiAvLyDpu5jorqTmjpLluo/mlrnlvI8NCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB1c2VyQ29sdW1uczogW3sNCiAgICAgICAgICAgICAgICAgICAgdHlwZTogImluZGV4IiwNCiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDYwLA0KICAgICAgICAgICAgICAgICAgICBhbGlnbjogImNlbnRlciINCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLnlKjmiLflkI0iLA0KICAgICAgICAgICAgICAgICAgICBrZXk6ICJuaWNrbmFtZSIsDQogICAgICAgICAgICAgICAgICAgIG1pbldpZHRoOiAxMzAsDQogICAgICAgICAgICAgICAgICAgIHNvcnRhYmxlOiB0cnVlDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAi55m75b2V6LSm5Y+3IiwNCiAgICAgICAgICAgICAgICAgICAga2V5OiAidXNlcm5hbWUiLA0KICAgICAgICAgICAgICAgICAgICBtaW5XaWR0aDogMTMwLA0KICAgICAgICAgICAgICAgICAgICBzb3J0YWJsZTogdHJ1ZQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB0aXRsZTogIuWktOWDjyIsDQogICAgICAgICAgICAgICAgICAgIGtleTogImF2YXRhciIsDQogICAgICAgICAgICAgICAgICAgIHdpZHRoOiA4MCwNCiAgICAgICAgICAgICAgICAgICAgYWxpZ246ICJjZW50ZXIiLA0KICAgICAgICAgICAgICAgICAgICByZW5kZXI6IChoLCBwYXJhbXMpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoKCJBdmF0YXIiLCB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHM6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjOiBwYXJhbXMucm93LmF2YXRhcg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSwNCiAgICANCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAi5omL5py6IiwNCiAgICAgICAgICAgICAgICAgICAga2V5OiAibW9iaWxlIiwNCiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEyNSwNCiAgICAgICAgICAgICAgICAgICAgc29ydGFibGU6IHRydWUNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLpgq7nrrEiLA0KICAgICAgICAgICAgICAgICAgICBrZXk6ICJlbWFpbCIsDQogICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxODAsDQogICAgICAgICAgICAgICAgICAgIHNvcnRhYmxlOiB0cnVlDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAi5oCn5YirIiwNCiAgICAgICAgICAgICAgICAgICAga2V5OiAic2V4IiwNCiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDcwLA0KICAgICAgICAgICAgICAgICAgICBhbGlnbjogImNlbnRlciINCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLliJvlu7rml7bpl7QiLA0KICAgICAgICAgICAgICAgICAgICBrZXk6ICJjcmVhdGVUaW1lIiwNCiAgICAgICAgICAgICAgICAgICAgc29ydGFibGU6IHRydWUsDQogICAgICAgICAgICAgICAgICAgIHNvcnRUeXBlOiAiZGVzYyIsDQogICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxNzANCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLmk43kvZwiLA0KICAgICAgICAgICAgICAgICAgICBrZXk6ICJhY3Rpb24iLA0KICAgICAgICAgICAgICAgICAgICB3aWR0aDogMTMwLA0KICAgICAgICAgICAgICAgICAgICBhbGlnbjogImNlbnRlciIsDQogICAgICAgICAgICAgICAgICAgIGZpeGVkOiAicmlnaHQiLA0KICAgICAgICAgICAgICAgICAgICByZW5kZXI6IChoLCBwYXJhbXMpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoKCJkaXYiLCBbDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaCgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJ1dHRvbiIsIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogImluZm8iLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICJzbWFsbCINCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hvb3NlVXNlcihwYXJhbXMucm93KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICLmt7vliqDor6XnlKjmiLciDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgICAgICAgICAgICAgXSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgdXNlckRhdGE6IFtdLA0KICAgICAgICAgICAgdG90YWxVc2VyOiAwDQogICAgICAgIH07DQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIGhhbmRsZVNlbGVjdERlcCh2KSB7DQogICAgICAgICAgICB0aGlzLnNlYXJjaFVzZXJGb3JtLmRlcGFydG1lbnRJZCA9IHY7DQogICAgICAgIH0sDQogICAgICAgIGNoYW5nZVVzZXJQYWdlKHYpIHsNCiAgICAgICAgICAgIHRoaXMuc2VhcmNoVXNlckZvcm0ucGFnZU51bWJlciA9IHY7DQogICAgICAgICAgICB0aGlzLmdldFVzZXJEYXRhTGlzdCgpOw0KICAgICAgICB9LA0KICAgICAgICBjaGFuZ2VVc2VyUGFnZVNpemUodikgew0KICAgICAgICAgICAgdGhpcy5zZWFyY2hVc2VyRm9ybS5wYWdlU2l6ZSA9IHY7DQogICAgICAgICAgICB0aGlzLmdldFVzZXJEYXRhTGlzdCgpOw0KICAgICAgICB9LA0KICAgICAgICBnZXRVc2VyRGF0YUxpc3QoKSB7DQogICAgICAgICAgICB0aGlzLnVzZXJMb2FkaW5nID0gdHJ1ZTsNCiAgICAgICAgICAgIGdldFVzZXJMaXN0RGF0YSh0aGlzLnNlYXJjaFVzZXJGb3JtKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy51c2VyTG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnVzZXJEYXRhID0gcmVzLnJlc3VsdC5yZWNvcmRzOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLnRvdGFsVXNlciA9IHJlcy5yZXN1bHQudG90YWw7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZVNlYXJjaFVzZXIoKSB7DQogICAgICAgICAgICB0aGlzLnNlYXJjaFVzZXJGb3JtLnBhZ2VOdW1iZXIgPSAxOw0KICAgICAgICAgICAgdGhpcy5zZWFyY2hVc2VyRm9ybS5wYWdlU2l6ZSA9IDEwOw0KICAgICAgICAgICAgdGhpcy5nZXRVc2VyRGF0YUxpc3QoKTsNCiAgICAgICAgfSwNCiAgICAgICAgaGFuZGxlUmVzZXRVc2VyKCkgew0KICAgICAgICAgICAgdGhpcy4kcmVmcy5zZWFyY2hVc2VyRm9ybS5yZXNldEZpZWxkcygpOw0KICAgICAgICAgICAgdGhpcy5zZWFyY2hVc2VyRm9ybS5wYWdlTnVtYmVyID0gMTsNCiAgICAgICAgICAgIHRoaXMuc2VhcmNoVXNlckZvcm0ucGFnZVNpemUgPSAxMDsNCiAgICAgICAgICAgIHRoaXMuJHJlZnMuZGVwLmNsZWFyU2VsZWN0KCk7DQogICAgICAgICAgICB0aGlzLnNlYXJjaFVzZXJGb3JtLmRlcGFydG1lbnRJZCA9ICIiOw0KICAgICAgICAgICAgLy8g6YeN5paw5Yqg6L295pWw5o2uDQogICAgICAgICAgICB0aGlzLmdldFVzZXJEYXRhTGlzdCgpOw0KICAgICAgICB9LA0KICAgICAgICBzZXREYXRhKHYpIHsNCiAgICAgICAgICAgIHRoaXMuc2VsZWN0VXNlcnMgPSB2Ow0KICAgICAgICAgICAgdGhpcy4kZW1pdCgib24tY2hhbmdlIiwgdGhpcy5zZWxlY3RVc2Vycyk7DQogICAgICAgIH0sDQogICAgICAgIGNob29zZVVzZXIodikgew0KICAgICAgICAgICAgLy8g5Y676YeNDQogICAgICAgICAgICBsZXQgdGhhdCA9IHRoaXM7DQogICAgICAgICAgICBsZXQgZmxhZyA9IHRydWU7DQogICAgICAgICAgICB0aGlzLnNlbGVjdFVzZXJzLmZvckVhY2goZSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKHYuaWQgPT0gZS5pZCkgew0KICAgICAgICAgICAgICAgICAgICB0aGF0LiRNZXNzYWdlLndhcm5pbmcoIuW3sue7j+a3u+WKoOi/h+WVpu+8jOivt+WLv+mHjeWkjemAieaLqSIpOw0KICAgICAgICAgICAgICAgICAgICBmbGFnID0gZmFsc2U7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBpZiAoZmxhZykgew0KICAgICAgICAgICAgICAgIGxldCB1ID0gew0KICAgICAgICAgICAgICAgICAgICBpZDogdi5pZCwNCiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHYudXNlcm5hbWUsDQogICAgICAgICAgICAgICAgICAgIG5pY2tuYW1lOiB2Lm5pY2tuYW1lDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdFVzZXJzLnB1c2godSk7DQogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgib24tY2hhbmdlIiwgdGhpcy5zZWxlY3RVc2Vycyk7DQogICAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKGDmt7vliqDnlKjmiLcgJHt2Lm5pY2tuYW1lfSDmiJDlip9gKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgY2xlYXJTZWxlY3REYXRhKCkgew0KICAgICAgICAgICAgdGhpcy5zZWxlY3RVc2VycyA9IFtdOw0KICAgICAgICAgICAgdGhpcy4kZW1pdCgib24tY2hhbmdlIiwgdGhpcy5zZWxlY3RVc2Vycyk7DQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZUNhbmNlbFVzZXIoZSwgaWQpIHsNCiAgICAgICAgICAgIC8vIOWIoOmZpOaJgOmAieeUqOaItw0KICAgICAgICAgICAgdGhpcy5zZWxlY3RVc2VycyA9IHRoaXMuc2VsZWN0VXNlcnMuZmlsdGVyKGUgPT4gew0KICAgICAgICAgICAgICAgIHJldHVybiBlLmlkICE9IGlkOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB0aGlzLiRlbWl0KCJvbi1jaGFuZ2UiLCB0aGlzLnNlbGVjdFVzZXJzKTsNCiAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2Vzcygi5Yig6Zmk5omA6YCJ55So5oi35oiQ5YqfIik7DQogICAgICAgIH0NCiAgICB9LA0KICAgIG1vdW50ZWQoKSB7DQogICAgICAgIHRoaXMuZ2V0VXNlckRhdGFMaXN0KCk7DQogICAgfQ0KfTsNCg=="},{"version":3,"sources":["user-choose.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"user-choose.vue","sourceRoot":"src/views/template","sourcesContent":["<template>\r\n<div class=\"user-choose\">\r\n    <Button @click=\"userModalVisible=true\" :icon=\"icon\">{{text}}</Button>\r\n    <span @click=\"clearSelectData\" class=\"clear\">清空已选</span>\r\n    <Collapse simple class=\"collapse\">\r\n        <Panel name=\"1\">\r\n            已选择\r\n            <span class=\"select-count\">{{selectUsers.length}}</span> 人\r\n            <p slot=\"content\">\r\n                <Tag v-for=\"(item, i) in selectUsers\" :key=\"i\" :name=\"item.id\" color=\"default\" closable @on-close=\"handleCancelUser\">\r\n                    <Tooltip placement=\"top\" :content=\"item.username\">{{item.nickname}}</Tooltip>\r\n                </Tag>\r\n            </p>\r\n        </Panel>\r\n    </Collapse>\r\n    <Drawer title=\"选择用户\" closable v-model=\"userModalVisible\" width=\"800\" draggable>\r\n        <Form ref=\"searchUserForm\" :model=\"searchUserForm\" inline :label-width=\"55\">\r\n            <Form-item label=\"用户名\" prop=\"nickname\">\r\n                <Input type=\"text\" v-model=\"searchUserForm.nickname\" clearable placeholder=\"请输入用户名\" style=\"width: 200px\" />\r\n            </Form-item>\r\n            <Form-item label=\"部门\" prop=\"department\">\r\n                <department-choose @on-change=\"handleSelectDep\" style=\"width: 200px\" ref=\"dep\"></department-choose>\r\n            </Form-item>\r\n            <Form-item style=\"margin-left:-35px;\" class=\"br\">\r\n                <Button @click=\"handleSearchUser\" type=\"primary\" icon=\"ios-search\">搜索</Button>\r\n                <Button @click=\"handleResetUser\">重置</Button>\r\n            </Form-item>\r\n        </Form>\r\n        <Alert show-icon>\r\n            已选择\r\n            <span class=\"select-count\">{{selectUsers.length}}</span> 项\r\n            <a style=\"margin-left: 10px;\" @click=\"clearSelectData\">清空已选</a>\r\n        </Alert>\r\n        <Table :loading=\"userLoading\" border :columns=\"userColumns\" :data=\"userData\" style=\"margin: 2vh 0;\"></Table>\r\n        <Row type=\"flex\" justify=\"end\">\r\n            <Page :current=\"searchUserForm.pageNumber\" :total=\"totalUser\" :page-size=\"searchUserForm.pageSize\" @on-change=\"changeUserPage\" @on-page-size-change=\"changeUserPageSize\" :page-size-opts=\"[10,20,50]\" size=\"small\" show-total show-elevator show-sizer transfer></Page>\r\n        </Row>\r\n    </Drawer>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n    getUserListData\r\n} from \"@/api/index\";\r\nimport departmentChoose from \"./department-choose\";\r\nexport default {\r\n    name: \"userChoose\",\r\n    components: {\r\n        departmentChoose\r\n    },\r\n    props: {\r\n        text: {\r\n            type: String,\r\n            default: \"选择用户\"\r\n        },\r\n        icon: {\r\n            type: String,\r\n            default: \"md-person-add\"\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            userLoading: true,\r\n            userModalVisible: false,\r\n            selectUsers: [],\r\n            searchUserForm: {\r\n                id: \"\",\r\n                nickname: \"\",\r\n                type: \"\",\r\n                status: \"\",\r\n                pageNumber: 1, // 当前页数\r\n                pageSize: 10, // 页面大小\r\n                sort: \"createTime\", // 默认排序字段\r\n                order: \"desc\" // 默认排序方式\r\n            },\r\n            userColumns: [{\r\n                    type: \"index\",\r\n                    width: 60,\r\n                    align: \"center\"\r\n                },\r\n                {\r\n                    title: \"用户名\",\r\n                    key: \"nickname\",\r\n                    minWidth: 130,\r\n                    sortable: true\r\n                },\r\n                {\r\n                    title: \"登录账号\",\r\n                    key: \"username\",\r\n                    minWidth: 130,\r\n                    sortable: true\r\n                },\r\n                {\r\n                    title: \"头像\",\r\n                    key: \"avatar\",\r\n                    width: 80,\r\n                    align: \"center\",\r\n                    render: (h, params) => {\r\n                        return h(\"Avatar\", {\r\n                            props: {\r\n                                src: params.row.avatar\r\n                            }\r\n                        });\r\n                    }\r\n                },\r\n    \r\n                {\r\n                    title: \"手机\",\r\n                    key: \"mobile\",\r\n                    width: 125,\r\n                    sortable: true\r\n                },\r\n                {\r\n                    title: \"邮箱\",\r\n                    key: \"email\",\r\n                    width: 180,\r\n                    sortable: true\r\n                },\r\n                {\r\n                    title: \"性别\",\r\n                    key: \"sex\",\r\n                    width: 70,\r\n                    align: \"center\"\r\n                },\r\n                {\r\n                    title: \"创建时间\",\r\n                    key: \"createTime\",\r\n                    sortable: true,\r\n                    sortType: \"desc\",\r\n                    width: 170\r\n                },\r\n                {\r\n                    title: \"操作\",\r\n                    key: \"action\",\r\n                    width: 130,\r\n                    align: \"center\",\r\n                    fixed: \"right\",\r\n                    render: (h, params) => {\r\n                        return h(\"div\", [\r\n                            h(\r\n                                \"Button\", {\r\n                                    props: {\r\n                                        type: \"info\",\r\n                                        size: \"small\"\r\n                                    },\r\n                                    on: {\r\n                                        click: () => {\r\n                                            this.chooseUser(params.row);\r\n                                        }\r\n                                    }\r\n                                },\r\n                                \"添加该用户\"\r\n                            )\r\n                        ]);\r\n                    }\r\n                }\r\n            ],\r\n            userData: [],\r\n            totalUser: 0\r\n        };\r\n    },\r\n    methods: {\r\n        handleSelectDep(v) {\r\n            this.searchUserForm.departmentId = v;\r\n        },\r\n        changeUserPage(v) {\r\n            this.searchUserForm.pageNumber = v;\r\n            this.getUserDataList();\r\n        },\r\n        changeUserPageSize(v) {\r\n            this.searchUserForm.pageSize = v;\r\n            this.getUserDataList();\r\n        },\r\n        getUserDataList() {\r\n            this.userLoading = true;\r\n            getUserListData(this.searchUserForm).then(res => {\r\n                this.userLoading = false;\r\n                if (res.success) {\r\n                    this.userData = res.result.records;\r\n                    this.totalUser = res.result.total;\r\n                }\r\n            });\r\n        },\r\n        handleSearchUser() {\r\n            this.searchUserForm.pageNumber = 1;\r\n            this.searchUserForm.pageSize = 10;\r\n            this.getUserDataList();\r\n        },\r\n        handleResetUser() {\r\n            this.$refs.searchUserForm.resetFields();\r\n            this.searchUserForm.pageNumber = 1;\r\n            this.searchUserForm.pageSize = 10;\r\n            this.$refs.dep.clearSelect();\r\n            this.searchUserForm.departmentId = \"\";\r\n            // 重新加载数据\r\n            this.getUserDataList();\r\n        },\r\n        setData(v) {\r\n            this.selectUsers = v;\r\n            this.$emit(\"on-change\", this.selectUsers);\r\n        },\r\n        chooseUser(v) {\r\n            // 去重\r\n            let that = this;\r\n            let flag = true;\r\n            this.selectUsers.forEach(e => {\r\n                if (v.id == e.id) {\r\n                    that.$Message.warning(\"已经添加过啦，请勿重复选择\");\r\n                    flag = false;\r\n                }\r\n            });\r\n            if (flag) {\r\n                let u = {\r\n                    id: v.id,\r\n                    username: v.username,\r\n                    nickname: v.nickname\r\n                };\r\n                this.selectUsers.push(u);\r\n                this.$emit(\"on-change\", this.selectUsers);\r\n                this.$Message.success(`添加用户 ${v.nickname} 成功`);\r\n            }\r\n        },\r\n        clearSelectData() {\r\n            this.selectUsers = [];\r\n            this.$emit(\"on-change\", this.selectUsers);\r\n        },\r\n        handleCancelUser(e, id) {\r\n            // 删除所选用户\r\n            this.selectUsers = this.selectUsers.filter(e => {\r\n                return e.id != id;\r\n            });\r\n            this.$emit(\"on-change\", this.selectUsers);\r\n            this.$Message.success(\"删除所选用户成功\");\r\n        }\r\n    },\r\n    mounted() {\r\n        this.getUserDataList();\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.user-choose {\r\n    .clear {\r\n        font-size: 12px;\r\n        margin-left: 15px;\r\n        color: #40a9ff;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .collapse {\r\n        font-size: 12px;\r\n        margin-top: 15px;\r\n        width: 500px;\r\n    }\r\n\r\n    .select-count {\r\n        font-weight: 600;\r\n        color: #40a9ff;\r\n    }\r\n}\r\n</style>\r\n"]}]}