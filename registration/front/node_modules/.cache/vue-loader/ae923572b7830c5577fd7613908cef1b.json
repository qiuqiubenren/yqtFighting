{"remainingRequest":"D:\\graduateSys\\registration\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\graduateSys\\registration\\front\\src\\views\\main-components\\tags-page-opened.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\graduateSys\\registration\\front\\src\\views\\main-components\\tags-page-opened.vue","mtime":1743403543385},{"path":"D:\\graduateSys\\registration\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1739857231742},{"path":"D:\\graduateSys\\registration\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":1739857230815},{"path":"D:\\graduateSys\\registration\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1739857231742},{"path":"D:\\graduateSys\\registration\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":1739857212415}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTogInRhZ3NQYWdlT3BlbmVkIiwNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgY3VycmVudFBhZ2VOYW1lOiB0aGlzLiRyb3V0ZS5uYW1lLA0KICAgICAgICAgICAgdGFnQm9keUxlZnQ6IDAsDQogICAgICAgICAgICByZWZzVGFnOiBbXSwNCiAgICAgICAgICAgIHRhZ3NDb3VudDogMQ0KICAgICAgICB9Ow0KICAgIH0sDQogICAgcHJvcHM6IHsNCiAgICAgICAgcGFnZVRhZ3NMaXN0OiBBcnJheSwNCiAgICAgICAgYmVmb3JlUHVzaDogew0KICAgICAgICAgICAgdHlwZTogRnVuY3Rpb24sDQogICAgICAgICAgICBkZWZhdWx0OiBpdGVtID0+IHsNCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0sDQogICAgY29tcHV0ZWQ6IHsNCiAgICAgICAgdGl0bGUoKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYXBwLmN1cnJlbnRUaXRsZTsNCiAgICAgICAgfSwNCiAgICAgICAgdGFnc0xpc3QoKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYXBwLnBhZ2VPcGVuZWRMaXN0Ow0KICAgICAgICB9DQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIGl0ZW1UaXRsZShpdGVtKSB7DQogICAgICAgICAgICBpZiAoaXRlbS5uYW1lID09ICJob21lX2luZGV4Iikgew0KICAgICAgICAgICAgICAgIHJldHVybiAi6aaW6aG1IjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBpdGVtLnRpdGxlOw0KICAgICAgICB9LA0KICAgICAgICBjbG9zZVBhZ2UoZXZlbnQsIG5hbWUpIHsNCiAgICAgICAgICAgIGxldCBwYWdlT3BlbmVkTGlzdCA9IHRoaXMuJHN0b3JlLnN0YXRlLmFwcC5wYWdlT3BlbmVkTGlzdDsNCiAgICAgICAgICAgIGxldCBsYXN0UGFnZU9iaiA9IHBhZ2VPcGVuZWRMaXN0WzBdOw0KICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhZ2VOYW1lID09IG5hbWUpIHsNCiAgICAgICAgICAgICAgICBsZXQgbGVuID0gcGFnZU9wZW5lZExpc3QubGVuZ3RoOw0KICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbGVuOyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VPcGVuZWRMaXN0W2ldLm5hbWUgPT0gbmFtZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPCBsZW4gLSAxKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFBhZ2VPYmogPSBwYWdlT3BlbmVkTGlzdFtpICsgMV07DQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RQYWdlT2JqID0gcGFnZU9wZW5lZExpc3RbaSAtIDFdOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGxldCB0YWdXaWR0aCA9IGV2ZW50LnRhcmdldC5wYXJlbnROb2RlLm9mZnNldFdpZHRoOw0KICAgICAgICAgICAgICAgIHRoaXMudGFnQm9keUxlZnQgPSBNYXRoLm1pbih0aGlzLnRhZ0JvZHlMZWZ0ICsgdGFnV2lkdGgsIDApOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJyZW1vdmVUYWciLCBuYW1lKTsNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiY2xvc2VQYWdlIiwgbmFtZSk7DQogICAgICAgICAgICBwYWdlT3BlbmVkTGlzdCA9IHRoaXMuJHN0b3JlLnN0YXRlLmFwcC5wYWdlT3BlbmVkTGlzdDsNCiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5wYWdlT3BlbmVkTGlzdCA9IEpTT04uc3RyaW5naWZ5KHBhZ2VPcGVuZWRMaXN0KTsNCiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYWdlTmFtZSA9PSBuYW1lKSB7DQogICAgICAgICAgICAgICAgdGhpcy5saW5rVG8obGFzdFBhZ2VPYmopOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBsaW5rVG8oaXRlbSkgew0KICAgICAgICAgICAgaWYgKHRoaXMuJHJvdXRlLm5hbWUgPT0gaXRlbS5uYW1lKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgbGV0IHJvdXRlck9iaiA9IHt9Ow0KICAgICAgICAgICAgcm91dGVyT2JqLm5hbWUgPSBpdGVtLm5hbWU7DQogICAgICAgICAgICBpZiAoaXRlbS5hcmd1KSB7DQogICAgICAgICAgICAgICAgcm91dGVyT2JqLnBhcmFtcyA9IGl0ZW0uYXJndTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChpdGVtLnF1ZXJ5KSB7DQogICAgICAgICAgICAgICAgcm91dGVyT2JqLnF1ZXJ5ID0gaXRlbS5xdWVyeTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICh0aGlzLmJlZm9yZVB1c2goaXRlbSkpIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaChyb3V0ZXJPYmopOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBoYW5kbGVzY3JvbGwoZSkgew0KICAgICAgICAgICAgdmFyIHR5cGUgPSBlLnR5cGU7DQogICAgICAgICAgICBsZXQgZGVsdGEgPSAwOw0KICAgICAgICAgICAgaWYgKHR5cGUgPT0gIkRPTU1vdXNlU2Nyb2xsIiB8fCB0eXBlID09ICJtb3VzZXdoZWVsIikgew0KICAgICAgICAgICAgICAgIGRlbHRhID0gZS53aGVlbERlbHRhID8gZS53aGVlbERlbHRhIDogLShlLmRldGFpbCB8fCAwKSAqIDQwOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgbGV0IGxlZnQgPSAwOw0KICAgICAgICAgICAgaWYgKGRlbHRhID4gMCkgew0KICAgICAgICAgICAgICAgIGxlZnQgPSBNYXRoLm1pbigwLCB0aGlzLnRhZ0JvZHlMZWZ0ICsgZGVsdGEpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBpZiAoDQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuc2Nyb2xsQ29uLm9mZnNldFdpZHRoIC0gMTAwIDwNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5zY3JvbGxCb2R5Lm9mZnNldFdpZHRoDQogICAgICAgICAgICAgICAgKSB7DQogICAgICAgICAgICAgICAgICAgIGlmICgNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGFnQm9keUxlZnQgPA0KICAgICAgICAgICAgICAgICAgICAgICAgLSgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnNjcm9sbEJvZHkub2Zmc2V0V2lkdGggLQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuc2Nyb2xsQ29uLm9mZnNldFdpZHRoICsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAxMDANCiAgICAgICAgICAgICAgICAgICAgICAgICkNCiAgICAgICAgICAgICAgICAgICAgKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gdGhpcy50YWdCb2R5TGVmdDsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQgPSBNYXRoLm1heCgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhZ0JvZHlMZWZ0ICsgZGVsdGEsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5zY3JvbGxDb24ub2Zmc2V0V2lkdGggLQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuc2Nyb2xsQm9keS5vZmZzZXRXaWR0aCAtDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgMTAwDQogICAgICAgICAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWdCb2R5TGVmdCA9IDA7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy50YWdCb2R5TGVmdCA9IGxlZnQ7DQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZVRhZ3NPcHRpb24odHlwZSkgew0KICAgICAgICAgICAgaWYgKHR5cGUgPT0gImNsZWFyQWxsIikgew0KICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiY2xlYXJBbGxUYWdzIik7DQogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICAgICAgICAgICAgICBuYW1lOiAiaG9tZV9pbmRleCINCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJjbGVhck90aGVyVGFncyIsIHRoaXMpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy50YWdCb2R5TGVmdCA9IDA7DQogICAgICAgIH0sDQogICAgICAgIG1vdmVUb1ZpZXcodGFnKSB7DQogICAgICAgICAgICBpZiAodGFnLm9mZnNldExlZnQgPCAtdGhpcy50YWdCb2R5TGVmdCkgew0KICAgICAgICAgICAgICAgIC8vIOagh+etvuWcqOWPr+inhuWMuuWfn+W3puS+pw0KICAgICAgICAgICAgICAgIHRoaXMudGFnQm9keUxlZnQgPSAtdGFnLm9mZnNldExlZnQgKyAxMDsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoDQogICAgICAgICAgICAgICAgdGFnLm9mZnNldExlZnQgKyAxMCA+IC10aGlzLnRhZ0JvZHlMZWZ0ICYmDQogICAgICAgICAgICAgICAgdGFnLm9mZnNldExlZnQgKyB0YWcub2Zmc2V0V2lkdGggPA0KICAgICAgICAgICAgICAgIC10aGlzLnRhZ0JvZHlMZWZ0ICsgdGhpcy4kcmVmcy5zY3JvbGxDb24ub2Zmc2V0V2lkdGggLSAxMDANCiAgICAgICAgICAgICkgew0KICAgICAgICAgICAgICAgIC8vIOagh+etvuWcqOWPr+inhuWMuuWfnw0KICAgICAgICAgICAgICAgIHRoaXMudGFnQm9keUxlZnQgPSBNYXRoLm1pbigNCiAgICAgICAgICAgICAgICAgICAgMCwNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5zY3JvbGxDb24ub2Zmc2V0V2lkdGggLQ0KICAgICAgICAgICAgICAgICAgICAxMDAgLQ0KICAgICAgICAgICAgICAgICAgICB0YWcub2Zmc2V0V2lkdGggLQ0KICAgICAgICAgICAgICAgICAgICB0YWcub2Zmc2V0TGVmdCAtDQogICAgICAgICAgICAgICAgICAgIDIwDQogICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgLy8g5qCH562+5Zyo5Y+v6KeG5Yy65Z+f5Y+z5L6nDQogICAgICAgICAgICAgICAgdGhpcy50YWdCb2R5TGVmdCA9IC0oDQogICAgICAgICAgICAgICAgICAgIHRhZy5vZmZzZXRMZWZ0IC0NCiAgICAgICAgICAgICAgICAgICAgKHRoaXMuJHJlZnMuc2Nyb2xsQ29uLm9mZnNldFdpZHRoIC0gMTAwIC0gdGFnLm9mZnNldFdpZHRoKSArDQogICAgICAgICAgICAgICAgICAgIDIwDQogICAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0sDQogICAgbW91bnRlZCgpIHsNCiAgICAgICAgdGhpcy5yZWZzVGFnID0gdGhpcy4kcmVmcy50YWdzUGFnZU9wZW5lZDsNCiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgICB0aGlzLnJlZnNUYWcuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsNCiAgICAgICAgICAgICAgICBpZiAodGhpcy4kcm91dGUubmFtZSA9PSBpdGVtLm5hbWUpIHsNCiAgICAgICAgICAgICAgICAgICAgbGV0IHRhZyA9IHRoaXMucmVmc1RhZ1tpbmRleF0uJGVsOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLm1vdmVUb1ZpZXcodGFnKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwgMSk7IC8vIOi/memHjOS4jeiuvuWumuaXtuWZqOWwseS8muacieWBj+enu2J1Zw0KICAgICAgICB0aGlzLnRhZ3NDb3VudCA9IHRoaXMudGFnc0xpc3QubGVuZ3RoOw0KICAgIH0sDQogICAgd2F0Y2g6IHsNCiAgICAgICAgJHJvdXRlKHRvKSB7DQogICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlTmFtZSA9IHRvLm5hbWU7DQogICAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5yZWZzVGFnLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGlmICh0by5uYW1lID09IGl0ZW0ubmFtZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRhZyA9IHRoaXMucmVmc1RhZ1tpbmRleF0uJGVsOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZlVG9WaWV3KHRhZyk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgdGhpcy50YWdzQ291bnQgPSB0aGlzLnRhZ3NMaXN0Lmxlbmd0aDsNCiAgICAgICAgfQ0KICAgIH0NCn07DQo="},{"version":3,"sources":["tags-page-opened.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"tags-page-opened.vue","sourceRoot":"src/views/main-components","sourcesContent":["<style lang=\"less\">\r\n@import \"../main.less\";\r\n</style>\r\n\r\n<template>\r\n<div ref=\"scrollCon\" @DOMMouseScroll=\"handlescroll\" @mousewheel=\"handlescroll\" class=\"tags-outer-scroll-con\">\r\n    <div class=\"close-all-tag-con\">\r\n        <Dropdown transfer @on-click=\"handleTagsOption\">\r\n            <Button size=\"small\" type=\"primary\">\r\n                关闭菜单\r\n                <Icon type=\"md-arrow-dropdown\"></Icon>\r\n            </Button>\r\n            <DropdownMenu slot=\"list\">\r\n                <DropdownItem name=\"clearAll\">关闭全部</DropdownItem>\r\n                <DropdownItem name=\"clearOthers\">关闭其他</DropdownItem>\r\n            </DropdownMenu>\r\n        </Dropdown>\r\n    </div>\r\n    <div ref=\"scrollBody\" class=\"tags-inner-scroll-body\" :style=\"{left: tagBodyLeft + 'px'}\">\r\n        <transition-group name=\"taglist-moving-animation\">\r\n            <Tag type=\"dot\" v-for=\"(item, index) in pageTagsList\" ref=\"tagsPageOpened\" :key=\"item.name\" :name=\"item.name\" @on-close=\"closePage\" @click.native=\"linkTo(item)\" :closable=\"item.name=='home_index'?false:true\" :color=\"item.children?(item.children[0].name==currentPageName?'primary':'default'):(item.name==currentPageName?'primary':'default')\">{{ item.title }}</Tag>\r\n        </transition-group>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"tagsPageOpened\",\r\n    data() {\r\n        return {\r\n            currentPageName: this.$route.name,\r\n            tagBodyLeft: 0,\r\n            refsTag: [],\r\n            tagsCount: 1\r\n        };\r\n    },\r\n    props: {\r\n        pageTagsList: Array,\r\n        beforePush: {\r\n            type: Function,\r\n            default: item => {\r\n                return true;\r\n            }\r\n        }\r\n    },\r\n    computed: {\r\n        title() {\r\n            return this.$store.state.app.currentTitle;\r\n        },\r\n        tagsList() {\r\n            return this.$store.state.app.pageOpenedList;\r\n        }\r\n    },\r\n    methods: {\r\n        itemTitle(item) {\r\n            if (item.name == \"home_index\") {\r\n                return \"首页\";\r\n            }\r\n            return item.title;\r\n        },\r\n        closePage(event, name) {\r\n            let pageOpenedList = this.$store.state.app.pageOpenedList;\r\n            let lastPageObj = pageOpenedList[0];\r\n            if (this.currentPageName == name) {\r\n                let len = pageOpenedList.length;\r\n                for (let i = 1; i < len; i++) {\r\n                    if (pageOpenedList[i].name == name) {\r\n                        if (i < len - 1) {\r\n                            lastPageObj = pageOpenedList[i + 1];\r\n                        } else {\r\n                            lastPageObj = pageOpenedList[i - 1];\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n            } else {\r\n                let tagWidth = event.target.parentNode.offsetWidth;\r\n                this.tagBodyLeft = Math.min(this.tagBodyLeft + tagWidth, 0);\r\n            }\r\n            this.$store.commit(\"removeTag\", name);\r\n            this.$store.commit(\"closePage\", name);\r\n            pageOpenedList = this.$store.state.app.pageOpenedList;\r\n            localStorage.pageOpenedList = JSON.stringify(pageOpenedList);\r\n            if (this.currentPageName == name) {\r\n                this.linkTo(lastPageObj);\r\n            }\r\n        },\r\n        linkTo(item) {\r\n            if (this.$route.name == item.name) {\r\n                return;\r\n            }\r\n            let routerObj = {};\r\n            routerObj.name = item.name;\r\n            if (item.argu) {\r\n                routerObj.params = item.argu;\r\n            }\r\n            if (item.query) {\r\n                routerObj.query = item.query;\r\n            }\r\n            if (this.beforePush(item)) {\r\n                this.$router.push(routerObj);\r\n            }\r\n        },\r\n        handlescroll(e) {\r\n            var type = e.type;\r\n            let delta = 0;\r\n            if (type == \"DOMMouseScroll\" || type == \"mousewheel\") {\r\n                delta = e.wheelDelta ? e.wheelDelta : -(e.detail || 0) * 40;\r\n            }\r\n            let left = 0;\r\n            if (delta > 0) {\r\n                left = Math.min(0, this.tagBodyLeft + delta);\r\n            } else {\r\n                if (\r\n                    this.$refs.scrollCon.offsetWidth - 100 <\r\n                    this.$refs.scrollBody.offsetWidth\r\n                ) {\r\n                    if (\r\n                        this.tagBodyLeft <\r\n                        -(\r\n                            this.$refs.scrollBody.offsetWidth -\r\n                            this.$refs.scrollCon.offsetWidth +\r\n                            100\r\n                        )\r\n                    ) {\r\n                        left = this.tagBodyLeft;\r\n                    } else {\r\n                        left = Math.max(\r\n                            this.tagBodyLeft + delta,\r\n                            this.$refs.scrollCon.offsetWidth -\r\n                            this.$refs.scrollBody.offsetWidth -\r\n                            100\r\n                        );\r\n                    }\r\n                } else {\r\n                    this.tagBodyLeft = 0;\r\n                }\r\n            }\r\n            this.tagBodyLeft = left;\r\n        },\r\n        handleTagsOption(type) {\r\n            if (type == \"clearAll\") {\r\n                this.$store.commit(\"clearAllTags\");\r\n                this.$router.push({\r\n                    name: \"home_index\"\r\n                });\r\n            } else {\r\n                this.$store.commit(\"clearOtherTags\", this);\r\n            }\r\n            this.tagBodyLeft = 0;\r\n        },\r\n        moveToView(tag) {\r\n            if (tag.offsetLeft < -this.tagBodyLeft) {\r\n                // 标签在可视区域左侧\r\n                this.tagBodyLeft = -tag.offsetLeft + 10;\r\n            } else if (\r\n                tag.offsetLeft + 10 > -this.tagBodyLeft &&\r\n                tag.offsetLeft + tag.offsetWidth <\r\n                -this.tagBodyLeft + this.$refs.scrollCon.offsetWidth - 100\r\n            ) {\r\n                // 标签在可视区域\r\n                this.tagBodyLeft = Math.min(\r\n                    0,\r\n                    this.$refs.scrollCon.offsetWidth -\r\n                    100 -\r\n                    tag.offsetWidth -\r\n                    tag.offsetLeft -\r\n                    20\r\n                );\r\n            } else {\r\n                // 标签在可视区域右侧\r\n                this.tagBodyLeft = -(\r\n                    tag.offsetLeft -\r\n                    (this.$refs.scrollCon.offsetWidth - 100 - tag.offsetWidth) +\r\n                    20\r\n                );\r\n            }\r\n        }\r\n    },\r\n    mounted() {\r\n        this.refsTag = this.$refs.tagsPageOpened;\r\n        setTimeout(() => {\r\n            this.refsTag.forEach((item, index) => {\r\n                if (this.$route.name == item.name) {\r\n                    let tag = this.refsTag[index].$el;\r\n                    this.moveToView(tag);\r\n                }\r\n            });\r\n        }, 1); // 这里不设定时器就会有偏移bug\r\n        this.tagsCount = this.tagsList.length;\r\n    },\r\n    watch: {\r\n        $route(to) {\r\n            this.currentPageName = to.name;\r\n            this.$nextTick(() => {\r\n                this.refsTag.forEach((item, index) => {\r\n                    if (to.name == item.name) {\r\n                        let tag = this.refsTag[index].$el;\r\n                        this.moveToView(tag);\r\n                    }\r\n                });\r\n            });\r\n            this.tagsCount = this.tagsList.length;\r\n        }\r\n    }\r\n};\r\n</script>\r\n"]}]}