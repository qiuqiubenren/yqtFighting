{"remainingRequest":"D:\\graduateSys\\registration\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\graduateSys\\registration\\front\\src\\views\\file\\file\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\graduateSys\\registration\\front\\src\\views\\file\\file\\index.vue","mtime":1743403543247},{"path":"D:\\graduateSys\\registration\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1739857231742},{"path":"D:\\graduateSys\\registration\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":1739857230815},{"path":"D:\\graduateSys\\registration\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1739857231742},{"path":"D:\\graduateSys\\registration\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":1739857212415}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICAgIGdldEZpbGVMaXN0RGF0YSwNCiAgICBjb3B5RmlsZSwNCiAgICByZW5hbWVGaWxlLA0KICAgIGRlbGV0ZUZpbGUsDQogICAgZ2V0T25lU2V0dGluZywNCiAgICBzZXRPbmVTZXR0aW5nDQp9IGZyb20gIi4vYXBpLmpzIjsNCmltcG9ydCAidmlld2VyanMvZGlzdC92aWV3ZXIuY3NzIjsNCmltcG9ydCBWaWV3ZXIgZnJvbSAidmlld2VyanMiOw0KdmFyIGRwOw0KZXhwb3J0IGRlZmF1bHQgew0KICAgIG5hbWU6ICJvc3MtbWFuYWdlIiwNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgZmlsZVBhdGg6ICIiLA0KICAgICAgICAgICAgZmlsZUh0dHA6ICIiLA0KICAgICAgICAgICAgZmlsZVZpZXc6ICIiLA0KICAgICAgICAgICAgZmlsZVNhdmVTZXR0aW5nTW9kYWw6IGZhbHNlLA0KICAgICAgICAgICAgYWNjZXNzVG9rZW46IHt9LCAvLyDkuIrkvKB0b2tlbumJtOadgw0KICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsIC8vIOihqOWNleWKoOi9veeKtuaAgQ0KICAgICAgICAgICAgZHJvcDogZmFsc2UsDQogICAgICAgICAgICBkcm9wRG93bkNvbnRlbnQ6ICLlsZXlvIAiLA0KICAgICAgICAgICAgZHJvcERvd25JY29uOiAiaW9zLWFycm93LWRvd24iLA0KICAgICAgICAgICAgZmlsZVR5cGU6ICJhbGwiLA0KICAgICAgICAgICAgY2hhbmdlRmlsZU5hbWVNb2RhbDogZmFsc2UsIC8vIOa3u+WKoOaIlue8lui+keaYvuekug0KICAgICAgICAgICAgdXBsb2FkVmlzaWJsZTogZmFsc2UsDQogICAgICAgICAgICBwaWNWaXNpYmxlOiBmYWxzZSwNCiAgICAgICAgICAgIHBpY1RpdGxlOiAiIiwNCiAgICAgICAgICAgIHNlYXJjaEZvcm06IHsNCiAgICAgICAgICAgICAgICAvLyDmkJzntKLmoYblr7nlupRkYXRh5a+56LGhDQogICAgICAgICAgICAgICAgbmFtZTogIiIsDQogICAgICAgICAgICAgICAgZmtleTogIiIsDQogICAgICAgICAgICAgICAgdHlwZTogIiIsDQogICAgICAgICAgICAgICAgcGFnZU51bWJlcjogMSwgLy8g5b2T5YmN6aG15pWwDQogICAgICAgICAgICAgICAgcGFnZVNpemU6IDE1LCAvLyDpobXpnaLlpKflsI8NCiAgICAgICAgICAgICAgICBzb3J0OiAiY3JlYXRlVGltZSIsIC8vIOm7mOiupOaOkuW6j+Wtl+autQ0KICAgICAgICAgICAgICAgIG9yZGVyOiAiZGVzYyIsIC8vIOm7mOiupOaOkuW6j+aWueW8jw0KICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZTogIiIsIC8vIOi1t+Wni+aXtumXtA0KICAgICAgICAgICAgICAgIGVuZERhdGU6ICIiIC8vIOe7iOatouaXtumXtA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHNlbGVjdERhdGU6IG51bGwsIC8vIOmAieaLqeaXpeacn+e7keWumm1vZGFsDQogICAgICAgICAgICBmb3JtOiB7DQogICAgICAgICAgICAgICAgbmFtZTogIiIsDQogICAgICAgICAgICAgICAgZmtleTogIiINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBmaWxlOiB7fSwNCiAgICAgICAgICAgIC8vIOihqOWNlemqjOivgeinhOWImQ0KICAgICAgICAgICAgZm9ybVZhbGlkYXRlOiB7DQogICAgICAgICAgICAgICAgbmFtZTogW3sNCiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLkuI3og73kuLrnqboiLA0KICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciINCiAgICAgICAgICAgICAgICB9XSwNCiAgICAgICAgICAgICAgICBma2V5OiBbew0KICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIuS4jeiDveS4uuepuiIsDQogICAgICAgICAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIg0KICAgICAgICAgICAgICAgIH1dDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgc3VibWl0TG9hZGluZzogZmFsc2UsDQogICAgICAgICAgICBzZWxlY3RMaXN0OiBbXSwNCiAgICAgICAgICAgIHNlbGVjdENvdW50OiAwLA0KICAgICAgICAgICAgdG90YWxTaXplOiAiIiwNCiAgICAgICAgICAgIGNvbHVtbnM6IFt7DQogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJzZWxlY3Rpb24iLA0KICAgICAgICAgICAgICAgICAgICB3aWR0aDogNjAsDQogICAgICAgICAgICAgICAgICAgIGFsaWduOiAiY2VudGVyIg0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB0eXBlOiAiaW5kZXgiLA0KICAgICAgICAgICAgICAgICAgICB3aWR0aDogNjAsDQogICAgICAgICAgICAgICAgICAgIGFsaWduOiAiY2VudGVyIg0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB0aXRsZTogIuWOn+aWh+S7tuWQjSIsDQogICAgICAgICAgICAgICAgICAgIGtleTogIm5hbWUiLA0KICAgICAgICAgICAgICAgICAgICBtaW5XaWR0aDogMTMwLA0KICAgICAgICAgICAgICAgICAgICBzb3J0YWJsZTogdHJ1ZQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB0aXRsZTogIuWtmOWCqOaWh+S7tuWQjSIsDQogICAgICAgICAgICAgICAgICAgIGtleTogImZrZXkiLA0KICAgICAgICAgICAgICAgICAgICBtaW5XaWR0aDogMTY1LA0KICAgICAgICAgICAgICAgICAgICBzb3J0YWJsZTogdHJ1ZQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB0aXRsZTogIumihOiniCIsDQogICAgICAgICAgICAgICAgICAgIGtleTogInVybCIsDQogICAgICAgICAgICAgICAgICAgIG1pbldpZHRoOiAxNTAsDQogICAgICAgICAgICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwNCiAgICAgICAgICAgICAgICAgICAgcmVuZGVyOiAoaCwgcGFyYW1zKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyYW1zLnJvdy50eXBlLmluY2x1ZGVzKCJpbWFnZSIpID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoKCJpbWciLCB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM6IHBhcmFtcy5yb3cudXJsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICJ6b29tLWluIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAiODBweCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICI2MHB4IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogIjEwcHggMCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAib2JqZWN0LWZpdCI6ICJjb250YWluIg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6ICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dQaWMocGFyYW1zLnJvdyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyYW1zLnJvdy50eXBlLmluY2x1ZGVzKCJwZGYiKSA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaCgiaW1nIiwgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjOiByZXF1aXJlKCJAL2Fzc2V0cy9wZGYucG5nIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogInpvb20taW4iLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICI2MHB4IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogIjEwcHggMCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAib2JqZWN0LWZpdCI6ICJjb250YWluIg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6ICgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dGaWxlKHBhcmFtcy5yb3cpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtcy5yb3cudHlwZS5pbmNsdWRlcygiemlwIikgPiAwIHx8DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zLnJvdy50eXBlLmluY2x1ZGVzKCJyYXIiKSA+IDAgfHwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXMucm93LnR5cGUuaW5jbHVkZXMoIjd6IikgPiAwDQogICAgICAgICAgICAgICAgICAgICAgICApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaCgiaW1nIiwgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjOiByZXF1aXJlKCJAL2Fzc2V0cy96aXAucG5nIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAiNjBweCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46ICIxMHB4IDAiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm9iamVjdC1maXQiOiAiY29udGFpbiINCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93RmlsZShwYXJhbXMucm93KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLndhcm5pbmcoIuivt+S4i+i9veWQjuino+WOi+iuv+mXriEiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaCgiaW1nIiwgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjOiByZXF1aXJlKCJAL2Fzc2V0cy9maWxlLnBuZyIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogIjU1cHgiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAiNjBweCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46ICIxMHB4IDAiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm9iamVjdC1maXQiOiAiY29udGFpbiINCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93RmlsZShwYXJhbXMucm93KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAi5paH5Lu257G75Z6LIiwNCiAgICAgICAgICAgICAgICAgICAga2V5OiAidHlwZSIsDQogICAgICAgICAgICAgICAgICAgIG1pbldpZHRoOiAxMTUsDQogICAgICAgICAgICAgICAgICAgIHNvcnRhYmxlOiB0cnVlDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAi5paH5Lu25aSn5bCPIiwNCiAgICAgICAgICAgICAgICAgICAga2V5OiAic2l6ZSIsDQogICAgICAgICAgICAgICAgICAgIG1pbldpZHRoOiAxMTUsDQogICAgICAgICAgICAgICAgICAgIHNvcnRhYmxlOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICByZW5kZXI6IChoLCBwYXJhbXMpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoKCJkaXYiLCBbDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaCgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRhZyIsIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IChwYXJhbXMucm93LnNpemUgPiAxMDI0ICogMTAyNCAqIDUpID8gIm9yYW5nZSIgOiAiZ3JlZW4iDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgocGFyYW1zLnJvdy5zaXplICogMS4wKSAvICgxMDI0ICogMTAyNCkpLnRvRml4ZWQoMikgKyAiIE1CIg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICkNCiAgICAgICAgICAgICAgICAgICAgICAgIF0pOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAi5LiK5Lyg6ICFIiwNCiAgICAgICAgICAgICAgICAgICAga2V5OiAiY3JlYXRlQnkiLA0KICAgICAgICAgICAgICAgICAgICBtaW5XaWR0aDogMTIwLA0KICAgICAgICAgICAgICAgICAgICBzb3J0YWJsZTogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgYWxpZ246ICJjZW50ZXIiLA0KICAgICAgICAgICAgICAgICAgICByZW5kZXI6IChoLCBwYXJhbXMpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoKA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJUb29sdGlwIiwgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wczogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50OiAidG9wIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHBhcmFtcy5yb3cuY3JlYXRlQnkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgWw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoKA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlRhZyIsIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFyZ2luLXJpZ2h0IjogIjhweCINCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJib3JkZXIiDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtcy5yb3cubmlja25hbWUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0NCiAgICAgICAgICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLkuIrkvKDml7bpl7QiLA0KICAgICAgICAgICAgICAgICAgICBrZXk6ICJjcmVhdGVUaW1lIiwNCiAgICAgICAgICAgICAgICAgICAgbWluV2lkdGg6IDE4MCwNCiAgICAgICAgICAgICAgICAgICAgc29ydGFibGU6IHRydWUsDQogICAgICAgICAgICAgICAgICAgIHNvcnRUeXBlOiAiZGVzYyINCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLmk43kvZwiLA0KICAgICAgICAgICAgICAgICAgICBrZXk6ICJhY3Rpb24iLA0KICAgICAgICAgICAgICAgICAgICBhbGlnbjogImNlbnRlciIsDQogICAgICAgICAgICAgICAgICAgIGZpeGVkOiAicmlnaHQiLA0KICAgICAgICAgICAgICAgICAgICBtaW5XaWR0aDogMjYwLA0KICAgICAgICAgICAgICAgICAgICByZW5kZXI6IChoLCBwYXJhbXMpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoKCJkaXYiLCBbDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaCgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJ1dHRvbiIsIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICJzbWFsbCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2hvc3Q6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcGU6ICJjaXJjbGUiDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogIjVweCINCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZG93bmxvYWQocGFyYW1zLnJvdyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAi5LiL6L29Ig0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaCgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJ1dHRvbiIsIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICJzbWFsbCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2hvc3Q6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcGU6ICJjaXJjbGUiDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5SaWdodDogIjVweCINCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuYW1lKHBhcmFtcy5yb3cpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIumHjeWRveWQjSINCiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGgoDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJCdXR0b24iLCB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wczogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJpbmZvIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAic21hbGwiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdob3N0OiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXBlOiAiY2lyY2xlIg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6ICI1cHgiDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvcHkocGFyYW1zLnJvdyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAi5ou36LSdIg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaCgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkJ1dHRvbiIsIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAic21hbGwiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdob3N0OiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXBlOiAiY2lyY2xlIg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6ICI1cHgiDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZShwYXJhbXMucm93KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICLliKDpmaQiDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgICAgICAgICAgICAgXSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgZGF0YTogW10sDQogICAgICAgICAgICB0b3RhbDogMCwNCiAgICAgICAgfTsNCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgaW5pdCgpIHsNCiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpczsNCiAgICAgICAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsNCiAgICAgICAgICAgIHRoaXMuZ2V0RmlsZVNldHRpbmdGeCgpOw0KICAgICAgICAgICAgdGhpcy5hY2Nlc3NUb2tlbiA9IHsNCiAgICAgICAgICAgICAgICBhY2Nlc3NUb2tlbjogdGhpcy5nZXRTdG9yZSgiYWNjZXNzVG9rZW4iKQ0KICAgICAgICAgICAgfTsNCiAgICAgICAgfSwNCiAgICAgICAgZ2V0RmlsZVNldHRpbmdGeCgpIHsNCiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpczsNCiAgICAgICAgICAgIGdldE9uZVNldHRpbmcoew0KICAgICAgICAgICAgICAgIGlkOiAiRklMRV9QQVRIIg0KICAgICAgICAgICAgfSkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgICAgICAgICAgICB0aGF0LmZpbGVQYXRoID0gcmVzLnJlc3VsdC52YWx1ZQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgZ2V0T25lU2V0dGluZyh7DQogICAgICAgICAgICAgICAgaWQ6ICJGSUxFX0hUVFAiDQogICAgICAgICAgICB9KS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7DQogICAgICAgICAgICAgICAgICAgIHRoYXQuZmlsZUh0dHAgPSByZXMucmVzdWx0LnZhbHVlDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBnZXRPbmVTZXR0aW5nKHsNCiAgICAgICAgICAgICAgICBpZDogIkZJTEVfVklFVyINCiAgICAgICAgICAgIH0pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhhdC5maWxlVmlldyA9IHJlcy5yZXN1bHQudmFsdWUNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCiAgICAgICAgc2V0RmlsZVNldHRpbmdGeCgpIHsNCiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpczsNCiAgICAgICAgICAgIHNldE9uZVNldHRpbmcoew0KICAgICAgICAgICAgICAgIGlkOiAiRklMRV9QQVRIIiwNCiAgICAgICAgICAgICAgICB2YWx1ZTogdGhhdC5maWxlUGF0aA0KICAgICAgICAgICAgfSkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MoIuWtmOWCqOi3r+W+hOabtOaWsOaIkOWKnyIpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgc2V0T25lU2V0dGluZyh7DQogICAgICAgICAgICAgICAgaWQ6ICJGSUxFX0hUVFAiLA0KICAgICAgICAgICAgICAgIHZhbHVlOiB0aGF0LmZpbGVIdHRwDQogICAgICAgICAgICB9KS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2VzcygiSFRUUOabtOaWsOaIkOWKnyIpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgc2V0T25lU2V0dGluZyh7DQogICAgICAgICAgICAgICAgaWQ6ICJGSUxFX1ZJRVciLA0KICAgICAgICAgICAgICAgIHZhbHVlOiB0aGF0LmZpbGVWaWV3DQogICAgICAgICAgICB9KS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2Vzcygi6aKE6KeI5o6l5Y+j5pu05paw5oiQ5YqfIik7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQogICAgICAgIHNob3dQaWModikgew0KICAgICAgICAgICAgbGV0IGltYWdlID0gbmV3IEltYWdlKCk7DQogICAgICAgICAgICBpbWFnZS5zcmMgPSB2LnVybDsNCiAgICAgICAgICAgIGxldCB2aWV3ZXIgPSBuZXcgVmlld2VyKGltYWdlLCB7DQogICAgICAgICAgICAgICAgaGlkZGVuOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgIHZpZXdlci5kZXN0cm95KCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB2aWV3ZXIuc2hvdygpOw0KICAgICAgICB9LA0KICAgICAgICBjbG9zZVZpZGVvKCkgew0KICAgICAgICAgICAgZHAuZGVzdHJveSgpOw0KICAgICAgICB9LA0KICAgICAgICBkcm9wRG93bigpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLmRyb3ApIHsNCiAgICAgICAgICAgICAgICB0aGlzLmRyb3BEb3duQ29udGVudCA9ICLlsZXlvIAiOw0KICAgICAgICAgICAgICAgIHRoaXMuZHJvcERvd25JY29uID0gImlvcy1hcnJvdy1kb3duIjsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy5kcm9wRG93bkNvbnRlbnQgPSAi5pS26LW3IjsNCiAgICAgICAgICAgICAgICB0aGlzLmRyb3BEb3duSWNvbiA9ICJpb3MtYXJyb3ctdXAiOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5kcm9wID0gIXRoaXMuZHJvcDsNCiAgICAgICAgfSwNCiAgICAgICAgY2hhbmdlUGFnZSh2KSB7DQogICAgICAgICAgICB0aGlzLnNlYXJjaEZvcm0ucGFnZU51bWJlciA9IHY7DQogICAgICAgICAgICB0aGlzLmdldERhdGFMaXN0KCk7DQogICAgICAgICAgICB0aGlzLmNsZWFyU2VsZWN0QWxsKCk7DQogICAgICAgIH0sDQogICAgICAgIGNoYW5nZVBhZ2VTaXplKHYpIHsNCiAgICAgICAgICAgIHRoaXMuc2VhcmNoRm9ybS5wYWdlU2l6ZSA9IHY7DQogICAgICAgICAgICB0aGlzLmdldERhdGFMaXN0KCk7DQogICAgICAgIH0sDQogICAgICAgIGNoYW5nZVNvcnQoZSkgew0KICAgICAgICAgICAgdGhpcy5zZWFyY2hGb3JtLnNvcnQgPSBlLmtleTsNCiAgICAgICAgICAgIHRoaXMuc2VhcmNoRm9ybS5vcmRlciA9IGUub3JkZXI7DQogICAgICAgICAgICBpZiAoZS5vcmRlciA9PSAibm9ybWFsIikgew0KICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoRm9ybS5vcmRlciA9ICIiOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOw0KICAgICAgICB9LA0KICAgICAgICBzZWxlY3REYXRlUmFuZ2Uodikgew0KICAgICAgICAgICAgaWYgKHYpIHsNCiAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaEZvcm0uc3RhcnREYXRlID0gdlswXTsNCiAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaEZvcm0uZW5kRGF0ZSA9IHZbMV07DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGdldERhdGFMaXN0KCkgew0KICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsNCiAgICAgICAgICAgIGdldEZpbGVMaXN0RGF0YSh0aGlzLnNlYXJjaEZvcm0pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gcmVzLnJlc3VsdC5yZWNvcmRzOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLnRvdGFsID0gcmVzLnJlc3VsdC50b3RhbDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCiAgICAgICAgaGFuZGxlU2VhcmNoKCkgew0KICAgICAgICAgICAgdGhpcy5zZWFyY2hGb3JtLnBhZ2VOdW1iZXIgPSAxOw0KICAgICAgICAgICAgdGhpcy5zZWFyY2hGb3JtLnBhZ2VTaXplID0gMTU7DQogICAgICAgICAgICB0aGlzLmdldERhdGFMaXN0KCk7DQogICAgICAgIH0sDQogICAgICAgIGNoYW5nZUZpbGVUeXBlKCkgew0KICAgICAgICAgICAgbGV0IG5hbWUgPSB0aGlzLmZpbGVUeXBlOw0KICAgICAgICAgICAgaWYgKG5hbWUgPT0gImFsbCIpIHsNCiAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaEZvcm0udHlwZSA9ICIiOw0KICAgICAgICAgICAgfSBlbHNlIGlmIChuYW1lID09ICJwaWMiKSB7DQogICAgICAgICAgICAgICAgdGhpcy5zZWFyY2hGb3JtLnR5cGUgPSAiaW1hZ2UiOw0KICAgICAgICAgICAgfSBlbHNlIGlmIChuYW1lID09ICJ2aWRlbyIpIHsNCiAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaEZvcm0udHlwZSA9ICJ2aWRlbyI7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLmhhbmRsZVNlYXJjaCgpOw0KICAgICAgICB9LA0KICAgICAgICBoYW5kbGVSZXNldCgpIHsNCiAgICAgICAgICAgIHRoaXMuJHJlZnMuc2VhcmNoRm9ybS5yZXNldEZpZWxkcygpOw0KICAgICAgICAgICAgdGhpcy5zZWFyY2hGb3JtLnBhZ2VOdW1iZXIgPSAxOw0KICAgICAgICAgICAgdGhpcy5zZWFyY2hGb3JtLnBhZ2VTaXplID0gMTU7DQogICAgICAgICAgICB0aGlzLnNlbGVjdERhdGUgPSBudWxsOw0KICAgICAgICAgICAgdGhpcy5zZWFyY2hGb3JtLnN0YXJ0RGF0ZSA9ICIiOw0KICAgICAgICAgICAgdGhpcy5zZWFyY2hGb3JtLmVuZERhdGUgPSAiIjsNCiAgICAgICAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsNCiAgICAgICAgfSwNCiAgICAgICAgYmVmb3JlVXBsb2FkKCkgew0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZU1heFNpemUoZmlsZSkgew0KICAgICAgICAgICAgdGhpcy4kTm90aWNlLndhcm5pbmcoew0KICAgICAgICAgICAgICAgIHRpdGxlOiAi5paH5Lu25aSn5bCP6L+H5aSnIiwNCiAgICAgICAgICAgICAgICBkZXNjOiAi5omA6YCJ5paH5Lu24oCYICIgKyBmaWxlLm5hbWUgKyAiIOKAmeWkp+Wwj+i/h+Wkpywg5LiN5b6X6LaF6L+HIDVNLiINCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9LA0KICAgICAgICBoYW5kbGVTdWNjZXNzKHJlcywgZmlsZSkgew0KICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7DQogICAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKCLkuIrkvKDmlofku7YgIiArIGZpbGUubmFtZSArICIg5oiQ5YqfIik7DQogICAgICAgICAgICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKHJlcy5tZXNzYWdlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgaGFuZGxlRXJyb3IoZXJyb3IsIGZpbGUsIGZpbGVMaXN0KSB7DQogICAgICAgICAgICB0aGlzLiRNZXNzYWdlLmVycm9yKGVycm9yLnRvU3RyaW5nKCkpOw0KICAgICAgICB9LA0KICAgICAgICBjbGVhckZpbGVzKCkgew0KICAgICAgICAgICAgdGhpcy4kcmVmcy51cC5jbGVhckZpbGVzKCk7DQogICAgICAgIH0sDQogICAgICAgIGRvd25sb2FkKHYpIHsNCiAgICAgICAgICAgIHdpbmRvdy5vcGVuKA0KICAgICAgICAgICAgICAgIHYudXJsICsNCiAgICAgICAgICAgICAgICAiP2F0dG5hbWU9JnJlc3BvbnNlLWNvbnRlbnQtdHlwZT1hcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0mZmlsZW5hbWU9IiArDQogICAgICAgICAgICAgICAgdi5uYW1lDQogICAgICAgICAgICApOw0KICAgICAgICB9LA0KICAgICAgICBzaG93RmlsZSh2KSB7DQogICAgICAgICAgICB3aW5kb3cub3Blbih2LnVybCArICI/cHJldmlldz10cnVlIik7DQogICAgICAgIH0sDQogICAgICAgIGNvcHkodikgew0KICAgICAgICAgICAgdGhpcy4kTW9kYWwuY29uZmlybSh7DQogICAgICAgICAgICAgICAgdGl0bGU6ICLnoa7orqTlpI3liLYiLA0KICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICLmgqjnoa7orqTopoHlpI3liLbmlofku7YgIiArIHYubmFtZSArICIgPyIsDQogICAgICAgICAgICAgICAgbG9hZGluZzogdHJ1ZSwNCiAgICAgICAgICAgICAgICBvbk9rOiAoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNvcHlGaWxlKHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB2LmlkLA0KICAgICAgICAgICAgICAgICAgICAgICAga2V5OiB2LmZrZXkNCiAgICAgICAgICAgICAgICAgICAgfSkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kTW9kYWwucmVtb3ZlKCk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MoDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICLlpI3liLbmlofku7bmiJDlip/vvIzmlrDmlofku7blkI3kuLogIiArIHYubmFtZSArICJf5Ymv5pysIg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCiAgICAgICAgcmVtb3ZlQWxsKCkgew0KICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0Q291bnQgPD0gMCkgew0KICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uud2FybmluZygi5oKo6L+Y5pyq6YCJ5oup6KaB5Yig6Zmk55qE5pWw5o2uIik7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy4kTW9kYWwuY29uZmlybSh7DQogICAgICAgICAgICAgICAgdGl0bGU6ICLnoa7orqTliKDpmaQiLA0KICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICLmgqjnoa7orqTopoHliKDpmaTmiYDpgInnmoQgIiArIHRoaXMuc2VsZWN0Q291bnQgKyAiIOS4quaWh+S7tj8iLA0KICAgICAgICAgICAgICAgIGxvYWRpbmc6IHRydWUsDQogICAgICAgICAgICAgICAgb25PazogKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICBsZXQgaWRzID0gIiI7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0TGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZHMgKz0gZS5pZCArICIsIjsNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIGlkcyA9IGlkcy5zdWJzdHJpbmcoMCwgaWRzLmxlbmd0aCAtIDEpOw0KICAgICAgICAgICAgICAgICAgICBkZWxldGVGaWxlKHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlkczogaWRzDQogICAgICAgICAgICAgICAgICAgIH0pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJE1vZGFsLnJlbW92ZSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKCLmibnph4/liKDpmaTmlofku7bmiJDlip8iKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyU2VsZWN0QWxsKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCiAgICAgICAgcmVtb3ZlKHYpIHsNCiAgICAgICAgICAgIHRoaXMuJE1vZGFsLmNvbmZpcm0oew0KICAgICAgICAgICAgICAgIHRpdGxlOiAi56Gu6K6k5Yig6ZmkIiwNCiAgICAgICAgICAgICAgICBjb250ZW50OiAi5oKo56Gu6K6k6KaB5Yig6Zmk5paH5Lu2ICIgKyB2Lm5hbWUgKyAiID8iLA0KICAgICAgICAgICAgICAgIGxvYWRpbmc6IHRydWUsDQogICAgICAgICAgICAgICAgb25PazogKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICBkZWxldGVGaWxlKHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlkczogdi5pZA0KICAgICAgICAgICAgICAgICAgICB9KS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRNb2RhbC5yZW1vdmUoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2Vzcygi5Yig6Zmk5paH5Lu2ICIgKyB2Lm5hbWUgKyAiIOaIkOWKnyIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZVN1Ym1pdCgpIHsNCiAgICAgICAgICAgIHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSh2YWxpZCA9PiB7DQogICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuc3VibWl0TG9hZGluZyA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgIGxldCBwYXJhbXMgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZDogdGhpcy5mb3JtLmlkLA0KICAgICAgICAgICAgICAgICAgICAgICAgbmV3S2V5OiB0aGlzLmZvcm0uZmtleSwNCiAgICAgICAgICAgICAgICAgICAgICAgIG5ld05hbWU6IHRoaXMuZm9ybS5uYW1lDQogICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgICAgIHJlbmFtZUZpbGUocGFyYW1zKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN1Ym1pdExvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uuc3VjY2Vzcygi5pON5L2c5oiQ5YqfIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlRmlsZU5hbWVNb2RhbCA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCiAgICAgICAgcmVuYW1lKHYpIHsNCiAgICAgICAgICAgIGZvciAobGV0IGF0dHIgaW4gdikgew0KICAgICAgICAgICAgICAgIGlmICh2W2F0dHJdID09IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgdlthdHRyXSA9ICIiOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGxldCBzdHIgPSBKU09OLnN0cmluZ2lmeSh2KTsNCiAgICAgICAgICAgIGxldCBkYXRhID0gSlNPTi5wYXJzZShzdHIpOw0KICAgICAgICAgICAgdGhpcy5mb3JtID0gZGF0YTsNCiAgICAgICAgICAgIHRoaXMuY2hhbmdlRmlsZU5hbWVNb2RhbCA9IHRydWU7DQogICAgICAgIH0sDQogICAgICAgIGNsZWFyU2VsZWN0QWxsKCkgew0KICAgICAgICAgICAgdGhpcy4kcmVmcy50YWJsZS5zZWxlY3RBbGwoZmFsc2UpOw0KICAgICAgICAgICAgdGhpcy50b3RhbFNpemUgPSAiIjsNCiAgICAgICAgfSwNCiAgICAgICAgY2hhbmdlU2VsZWN0KGUpIHsNCiAgICAgICAgICAgIHRoaXMuc2VsZWN0TGlzdCA9IGU7DQogICAgICAgICAgICB0aGlzLnNlbGVjdENvdW50ID0gZS5sZW5ndGg7DQogICAgICAgICAgICBsZXQgc2l6ZSA9IDA7DQogICAgICAgICAgICBlLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgICAgICAgc2l6ZSArPSBpdGVtLnNpemUgKiAxLjA7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHRoaXMudG90YWxTaXplID0gKChzaXplICogMS4wKSAvICgxMDI0ICogMTAyNCkpLnRvRml4ZWQoMikgKyAiIE1CIjsNCiAgICAgICAgfQ0KICAgIH0sDQogICAgbW91bnRlZCgpIHsNCiAgICAgICAgdGhpcy5pbml0KCk7DQogICAgfQ0KfTsNCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/file/file","sourcesContent":["<template>\r\n<div class=\"search\">\r\n    <Card>\r\n        <div class=\"operation\">\r\n            <Row>\r\n                <Form ref=\"searchForm\" :model=\"searchForm\" inline :label-width=\"85\">\r\n                    <Form-item label=\"原文件名\" prop=\"name\">\r\n                        <Input type=\"text\" v-model=\"searchForm.name\" placeholder=\"请输入文件名\" clearable style=\"width: 160px\" />\r\n                    </Form-item>\r\n                    <Form-item label=\"上传者账号\" prop=\"createBy\">\r\n                        <Input type=\"text\" v-model=\"searchForm.createBy\" placeholder=\"请输入上传者登录账号\" clearable style=\"width: 160px\" />\r\n                    </Form-item>\r\n                    <Form-item label=\"存储文件名\" prop=\"name\">\r\n                        <Input type=\"text\" v-model=\"searchForm.fkey\" placeholder=\"请输入存储文件名\" clearable style=\"width: 160px\" />\r\n                    </Form-item>\r\n                    <Form-item label=\"上传时间\">\r\n                        <DatePicker v-model=\"selectDate\" type=\"daterange\" format=\"yyyy-MM-dd\" clearable @on-change=\"selectDateRange\" placeholder=\"选择起始时间\" style=\"width: 160px\"></DatePicker>\r\n                    </Form-item>\r\n                    <Form-item style=\"margin-left:-35px;\" class=\"br\">\r\n                        <Button @click=\"handleSearch\" ghost shape=\"circle\" type=\"primary\" icon=\"ios-search\" size=\"small\">搜索</Button>\r\n                        <Button @click=\"handleReset\" ghost shape=\"circle\" type=\"warning\" icon=\"md-refresh\" size=\"small\">重置</Button>\r\n                        <Button @click=\"uploadVisible=true\" ghost shape=\"circle\" type=\"success\" icon=\"md-cloud-upload\" size=\"small\">上传文件</Button>\r\n                        <Button @click=\"fileSaveSettingModal=true\" ghost shape=\"circle\" type=\"info\" icon=\"md-settings\" size=\"small\">配置</Button>\r\n                    </Form-item>\r\n                </Form>\r\n            </Row>\r\n        </div>\r\n        <Row>\r\n            <Table :loading=\"loading\" border :columns=\"columns\" :data=\"data\" ref=\"table\" sortable=\"custom\" @on-sort-change=\"changeSort\" @on-selection-change=\"changeSelect\"></Table>\r\n        </Row>\r\n        <Row type=\"flex\" justify=\"end\" class=\"page\">\r\n            <Page :current=\"searchForm.pageNumber\" :total=\"total\" :page-size=\"searchForm.pageSize\" @on-change=\"changePage\" @on-page-size-change=\"changePageSize\" :page-size-opts=\"[15, 20, 40]\" size=\"small\" show-total show-elevator show-sizer></Page>\r\n        </Row>\r\n    </Card>\r\n\r\n    <Drawer title=\"文件上传\" closable v-model=\"uploadVisible\" width=\"500\">\r\n        <Upload action=\"/zwz/upload/file\" :headers=\"accessToken\" :on-success=\"handleSuccess\" :on-error=\"handleError\" :max-size=\"5120\" :on-exceeded-size=\"handleMaxSize\" :before-upload=\"beforeUpload\" multiple type=\"drag\" ref=\"up\">\r\n            <div style=\"padding: 20px 0\">\r\n                <Icon type=\"ios-cloud-upload\" size=\"52\" style=\"color: #3399ff\"></Icon>\r\n                <p>点击这里或将文件拖拽到这里上传</p>\r\n            </div>\r\n        </Upload>\r\n        <div class=\"drawer-footer\">\r\n            <Button @click=\"clearFiles\">清空上传列表</Button>\r\n        </div>\r\n    </Drawer>\r\n\r\n    <Modal title=\"文件重命名\" v-model=\"changeFileNameModal\" :mask-closable=\"false\" :width=\"500\" ok-text=\"保存\" @on-ok=\"handleSubmit\">\r\n        <Form ref=\"form\" :model=\"form\" :label-width=\"95\" :rules=\"formValidate\">\r\n            <Row :gutter=\"16\">\r\n                <Col span=\"24\">\r\n                <FormItem label=\"原文件名\" prop=\"name\">\r\n                    <Input v-model=\"form.name\" style=\"width:100%\" />\r\n                </FormItem>\r\n                </Col>\r\n            </Row>\r\n            <Row :gutter=\"16\">\r\n                <Col span=\"24\">\r\n                <FormItem label=\"存储文件名\" prop=\"fkey\">\r\n                    <Input v-model=\"form.fkey\" style=\"width:100%\" />\r\n                </FormItem>\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    </Modal>\r\n\r\n    <Modal title=\"文件存储配置\" v-model=\"fileSaveSettingModal\" :mask-closable=\"false\" :width=\"700\" ok-text=\"保存\" @on-ok=\"setFileSettingFx\">\r\n        <Form ref=\"settingForm\" :model=\"settingForm\" :label-width=\"95\">\r\n            <Row :gutter=\"16\">\r\n                <Col span=\"24\">\r\n                <FormItem label=\"存储路径\">\r\n                    <Input type=\"text\" v-model=\"filePath\" placeholder=\"如 C:\\\\oa-file\" style=\"width: 100%\" :disabled=\"changeLoading\" />\r\n                </FormItem>\r\n                </Col>\r\n            </Row>\r\n            <Row :gutter=\"16\">\r\n                <Col span=\"24\">\r\n                <FormItem label=\"预览接口\">\r\n                    <Input type=\"text\" v-model=\"fileView\" placeholder=\"如127.0.0.1:8080/zwz/file/view\" style=\"width: 100%\">\r\n                    <Select v-model=\"fileHttp\" slot=\"prepend\" style=\"width: 80px\" prop=\"http\" :disabled=\"changeLoading\">\r\n                        <Option value=\"http://\">http://</Option>\r\n                        <Option value=\"https://\">https://</Option>\r\n                    </Select>\r\n                    </Input>\r\n                </FormItem>\r\n                </Col>\r\n            </Row>\r\n        </Form>\r\n    </Modal>\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n    getFileListData,\r\n    copyFile,\r\n    renameFile,\r\n    deleteFile,\r\n    getOneSetting,\r\n    setOneSetting\r\n} from \"./api.js\";\r\nimport \"viewerjs/dist/viewer.css\";\r\nimport Viewer from \"viewerjs\";\r\nvar dp;\r\nexport default {\r\n    name: \"oss-manage\",\r\n    data() {\r\n        return {\r\n            filePath: \"\",\r\n            fileHttp: \"\",\r\n            fileView: \"\",\r\n            fileSaveSettingModal: false,\r\n            accessToken: {}, // 上传token鉴权\r\n            loading: false, // 表单加载状态\r\n            drop: false,\r\n            dropDownContent: \"展开\",\r\n            dropDownIcon: \"ios-arrow-down\",\r\n            fileType: \"all\",\r\n            changeFileNameModal: false, // 添加或编辑显示\r\n            uploadVisible: false,\r\n            picVisible: false,\r\n            picTitle: \"\",\r\n            searchForm: {\r\n                // 搜索框对应data对象\r\n                name: \"\",\r\n                fkey: \"\",\r\n                type: \"\",\r\n                pageNumber: 1, // 当前页数\r\n                pageSize: 15, // 页面大小\r\n                sort: \"createTime\", // 默认排序字段\r\n                order: \"desc\", // 默认排序方式\r\n                startDate: \"\", // 起始时间\r\n                endDate: \"\" // 终止时间\r\n            },\r\n            selectDate: null, // 选择日期绑定modal\r\n            form: {\r\n                name: \"\",\r\n                fkey: \"\"\r\n            },\r\n            file: {},\r\n            // 表单验证规则\r\n            formValidate: {\r\n                name: [{\r\n                    required: true,\r\n                    message: \"不能为空\",\r\n                    trigger: \"blur\"\r\n                }],\r\n                fkey: [{\r\n                    required: true,\r\n                    message: \"不能为空\",\r\n                    trigger: \"blur\"\r\n                }]\r\n            },\r\n            submitLoading: false,\r\n            selectList: [],\r\n            selectCount: 0,\r\n            totalSize: \"\",\r\n            columns: [{\r\n                    type: \"selection\",\r\n                    width: 60,\r\n                    align: \"center\"\r\n                },\r\n                {\r\n                    type: \"index\",\r\n                    width: 60,\r\n                    align: \"center\"\r\n                },\r\n                {\r\n                    title: \"原文件名\",\r\n                    key: \"name\",\r\n                    minWidth: 130,\r\n                    sortable: true\r\n                },\r\n                {\r\n                    title: \"存储文件名\",\r\n                    key: \"fkey\",\r\n                    minWidth: 165,\r\n                    sortable: true\r\n                },\r\n                {\r\n                    title: \"预览\",\r\n                    key: \"url\",\r\n                    minWidth: 150,\r\n                    align: \"center\",\r\n                    render: (h, params) => {\r\n                        if (params.row.type.includes(\"image\") > 0) {\r\n                            return h(\"img\", {\r\n                                attrs: {\r\n                                    src: params.row.url\r\n                                },\r\n                                style: {\r\n                                    cursor: \"zoom-in\",\r\n                                    width: \"80px\",\r\n                                    height: \"60px\",\r\n                                    margin: \"10px 0\",\r\n                                    \"object-fit\": \"contain\"\r\n                                },\r\n                                on: {\r\n                                    click: () => {\r\n                                        this.showPic(params.row);\r\n                                    }\r\n                                }\r\n                            });\r\n                        } else if (params.row.type.includes(\"pdf\") > 0) {\r\n                            return h(\"img\", {\r\n                                attrs: {\r\n                                    src: require(\"@/assets/pdf.png\")\r\n                                },\r\n                                style: {\r\n                                    cursor: \"zoom-in\",\r\n                                    width: \"60px\",\r\n                                    margin: \"10px 0\",\r\n                                    \"object-fit\": \"contain\"\r\n                                },\r\n                                on: {\r\n                                    click: () => {\r\n                                        this.showFile(params.row);\r\n                                    }\r\n                                }\r\n                            });\r\n                        } else if (\r\n                            params.row.type.includes(\"zip\") > 0 ||\r\n                            params.row.type.includes(\"rar\") > 0 ||\r\n                            params.row.type.includes(\"7z\") > 0\r\n                        ) {\r\n                            return h(\"img\", {\r\n                                attrs: {\r\n                                    src: require(\"@/assets/zip.png\")\r\n                                },\r\n                                style: {\r\n                                    width: \"60px\",\r\n                                    margin: \"10px 0\",\r\n                                    \"object-fit\": \"contain\"\r\n                                },\r\n                                on: {\r\n                                    click: () => {\r\n                                        this.showFile(params.row);\r\n                                        this.$Message.warning(\"请下载后解压访问!\");\r\n                                    }\r\n                                }\r\n                            });\r\n                        } else {\r\n                            return h(\"img\", {\r\n                                attrs: {\r\n                                    src: require(\"@/assets/file.png\")\r\n                                },\r\n                                style: {\r\n                                    width: \"55px\",\r\n                                    height: \"60px\",\r\n                                    margin: \"10px 0\",\r\n                                    \"object-fit\": \"contain\"\r\n                                },\r\n                                on: {\r\n                                    click: () => {\r\n                                        this.showFile(params.row);\r\n                                    }\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                },\r\n                {\r\n                    title: \"文件类型\",\r\n                    key: \"type\",\r\n                    minWidth: 115,\r\n                    sortable: true\r\n                },\r\n                {\r\n                    title: \"文件大小\",\r\n                    key: \"size\",\r\n                    minWidth: 115,\r\n                    sortable: true,\r\n                    render: (h, params) => {\r\n                        return h(\"div\", [\r\n                            h(\r\n                                \"Tag\", {\r\n                                    props: {\r\n                                        color: (params.row.size > 1024 * 1024 * 5) ? \"orange\" : \"green\"\r\n                                    }\r\n                                },\r\n                                ((params.row.size * 1.0) / (1024 * 1024)).toFixed(2) + \" MB\"\r\n                            )\r\n                        ]);\r\n                    }\r\n                },\r\n                {\r\n                    title: \"上传者\",\r\n                    key: \"createBy\",\r\n                    minWidth: 120,\r\n                    sortable: true,\r\n                    align: \"center\",\r\n                    render: (h, params) => {\r\n                        return h(\r\n                            \"Tooltip\", {\r\n                                props: {\r\n                                    placement: \"top\",\r\n                                    content: params.row.createBy\r\n                                }\r\n                            },\r\n                            [\r\n                                h(\r\n                                    \"Tag\", {\r\n                                        style: {\r\n                                            \"margin-right\": \"8px\"\r\n                                        },\r\n                                        props: {\r\n                                            type: \"border\"\r\n                                        }\r\n                                    },\r\n                                    params.row.nickname\r\n                                )\r\n                            ]\r\n                        );\r\n                    }\r\n                },\r\n                {\r\n                    title: \"上传时间\",\r\n                    key: \"createTime\",\r\n                    minWidth: 180,\r\n                    sortable: true,\r\n                    sortType: \"desc\"\r\n                },\r\n                {\r\n                    title: \"操作\",\r\n                    key: \"action\",\r\n                    align: \"center\",\r\n                    fixed: \"right\",\r\n                    minWidth: 260,\r\n                    render: (h, params) => {\r\n                        return h(\"div\", [\r\n                            h(\r\n                                \"Button\", {\r\n                                    props: {\r\n                                        type: \"success\",\r\n                                        size: \"small\",\r\n                                        ghost: true,\r\n                                        shape: \"circle\"\r\n                                    },\r\n                                    style: {\r\n                                        marginRight: \"5px\"\r\n                                    },\r\n                                    on: {\r\n                                        click: () => {\r\n                                            this.download(params.row);\r\n                                        }\r\n                                    }\r\n                                },\r\n                                \"下载\"\r\n                            ),\r\n                            h(\r\n                                \"Button\", {\r\n                                    props: {\r\n                                        type: \"warning\",\r\n                                        size: \"small\",\r\n                                        ghost: true,\r\n                                        shape: \"circle\"\r\n                                    },\r\n                                    style: {\r\n                                        marginRight: \"5px\"\r\n                                    },\r\n                                    on: {\r\n                                        click: () => {\r\n                                            this.rename(params.row);\r\n                                        }\r\n                                    }\r\n                                },\r\n                                \"重命名\"\r\n                            ),\r\n                            h(\r\n                                \"Button\", {\r\n                                    props: {\r\n                                        type: \"info\",\r\n                                        size: \"small\",\r\n                                        ghost: true,\r\n                                        shape: \"circle\"\r\n                                    },\r\n                                    style: {\r\n                                        marginRight: \"5px\"\r\n                                    },\r\n                                    on: {\r\n                                        click: () => {\r\n                                            this.copy(params.row);\r\n                                        }\r\n                                    }\r\n                                },\r\n                                \"拷贝\"\r\n                            ),\r\n                            h(\r\n                                \"Button\", {\r\n                                    props: {\r\n                                        type: \"error\",\r\n                                        size: \"small\",\r\n                                        ghost: true,\r\n                                        shape: \"circle\"\r\n                                    },\r\n                                    style: {\r\n                                        marginRight: \"5px\"\r\n                                    },\r\n                                    on: {\r\n                                        click: () => {\r\n                                            this.remove(params.row);\r\n                                        }\r\n                                    }\r\n                                },\r\n                                \"删除\"\r\n                            )\r\n                        ]);\r\n                    }\r\n                }\r\n            ],\r\n            data: [],\r\n            total: 0,\r\n        };\r\n    },\r\n    methods: {\r\n        init() {\r\n            var that = this;\r\n            this.getDataList();\r\n            this.getFileSettingFx();\r\n            this.accessToken = {\r\n                accessToken: this.getStore(\"accessToken\")\r\n            };\r\n        },\r\n        getFileSettingFx() {\r\n            var that = this;\r\n            getOneSetting({\r\n                id: \"FILE_PATH\"\r\n            }).then(res => {\r\n                if (res.success) {\r\n                    that.filePath = res.result.value\r\n                }\r\n            });\r\n            getOneSetting({\r\n                id: \"FILE_HTTP\"\r\n            }).then(res => {\r\n                if (res.success) {\r\n                    that.fileHttp = res.result.value\r\n                }\r\n            });\r\n            getOneSetting({\r\n                id: \"FILE_VIEW\"\r\n            }).then(res => {\r\n                if (res.success) {\r\n                    that.fileView = res.result.value\r\n                }\r\n            });\r\n        },\r\n        setFileSettingFx() {\r\n            var that = this;\r\n            setOneSetting({\r\n                id: \"FILE_PATH\",\r\n                value: that.filePath\r\n            }).then(res => {\r\n                if (res.success) {\r\n                    this.$Message.success(\"存储路径更新成功\");\r\n                }\r\n            });\r\n            setOneSetting({\r\n                id: \"FILE_HTTP\",\r\n                value: that.fileHttp\r\n            }).then(res => {\r\n                if (res.success) {\r\n                    this.$Message.success(\"HTTP更新成功\");\r\n                }\r\n            });\r\n            setOneSetting({\r\n                id: \"FILE_VIEW\",\r\n                value: that.fileView\r\n            }).then(res => {\r\n                if (res.success) {\r\n                    this.$Message.success(\"预览接口更新成功\");\r\n                }\r\n            });\r\n        },\r\n        showPic(v) {\r\n            let image = new Image();\r\n            image.src = v.url;\r\n            let viewer = new Viewer(image, {\r\n                hidden: function () {\r\n                    viewer.destroy();\r\n                }\r\n            });\r\n            viewer.show();\r\n        },\r\n        closeVideo() {\r\n            dp.destroy();\r\n        },\r\n        dropDown() {\r\n            if (this.drop) {\r\n                this.dropDownContent = \"展开\";\r\n                this.dropDownIcon = \"ios-arrow-down\";\r\n            } else {\r\n                this.dropDownContent = \"收起\";\r\n                this.dropDownIcon = \"ios-arrow-up\";\r\n            }\r\n            this.drop = !this.drop;\r\n        },\r\n        changePage(v) {\r\n            this.searchForm.pageNumber = v;\r\n            this.getDataList();\r\n            this.clearSelectAll();\r\n        },\r\n        changePageSize(v) {\r\n            this.searchForm.pageSize = v;\r\n            this.getDataList();\r\n        },\r\n        changeSort(e) {\r\n            this.searchForm.sort = e.key;\r\n            this.searchForm.order = e.order;\r\n            if (e.order == \"normal\") {\r\n                this.searchForm.order = \"\";\r\n            }\r\n            this.getDataList();\r\n        },\r\n        selectDateRange(v) {\r\n            if (v) {\r\n                this.searchForm.startDate = v[0];\r\n                this.searchForm.endDate = v[1];\r\n            }\r\n        },\r\n        getDataList() {\r\n            this.loading = true;\r\n            getFileListData(this.searchForm).then(res => {\r\n                this.loading = false;\r\n                if (res.success) {\r\n                    this.data = res.result.records;\r\n                    this.total = res.result.total;\r\n                }\r\n            });\r\n        },\r\n        handleSearch() {\r\n            this.searchForm.pageNumber = 1;\r\n            this.searchForm.pageSize = 15;\r\n            this.getDataList();\r\n        },\r\n        changeFileType() {\r\n            let name = this.fileType;\r\n            if (name == \"all\") {\r\n                this.searchForm.type = \"\";\r\n            } else if (name == \"pic\") {\r\n                this.searchForm.type = \"image\";\r\n            } else if (name == \"video\") {\r\n                this.searchForm.type = \"video\";\r\n            }\r\n            this.handleSearch();\r\n        },\r\n        handleReset() {\r\n            this.$refs.searchForm.resetFields();\r\n            this.searchForm.pageNumber = 1;\r\n            this.searchForm.pageSize = 15;\r\n            this.selectDate = null;\r\n            this.searchForm.startDate = \"\";\r\n            this.searchForm.endDate = \"\";\r\n            this.getDataList();\r\n        },\r\n        beforeUpload() {\r\n            return true;\r\n        },\r\n        handleMaxSize(file) {\r\n            this.$Notice.warning({\r\n                title: \"文件大小过大\",\r\n                desc: \"所选文件‘ \" + file.name + \" ’大小过大, 不得超过 5M.\"\r\n            });\r\n        },\r\n        handleSuccess(res, file) {\r\n            if (res.success) {\r\n                this.$Message.success(\"上传文件 \" + file.name + \" 成功\");\r\n                this.getDataList();\r\n            } else {\r\n                this.$Message.error(res.message);\r\n            }\r\n        },\r\n        handleError(error, file, fileList) {\r\n            this.$Message.error(error.toString());\r\n        },\r\n        clearFiles() {\r\n            this.$refs.up.clearFiles();\r\n        },\r\n        download(v) {\r\n            window.open(\r\n                v.url +\r\n                \"?attname=&response-content-type=application/octet-stream&filename=\" +\r\n                v.name\r\n            );\r\n        },\r\n        showFile(v) {\r\n            window.open(v.url + \"?preview=true\");\r\n        },\r\n        copy(v) {\r\n            this.$Modal.confirm({\r\n                title: \"确认复制\",\r\n                content: \"您确认要复制文件 \" + v.name + \" ?\",\r\n                loading: true,\r\n                onOk: () => {\r\n                    copyFile({\r\n                        id: v.id,\r\n                        key: v.fkey\r\n                    }).then(res => {\r\n                        this.$Modal.remove();\r\n                        if (res.success) {\r\n                            this.$Message.success(\r\n                                \"复制文件成功，新文件名为 \" + v.name + \"_副本\"\r\n                            );\r\n                            this.getDataList();\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        },\r\n        removeAll() {\r\n            if (this.selectCount <= 0) {\r\n                this.$Message.warning(\"您还未选择要删除的数据\");\r\n                return;\r\n            }\r\n            this.$Modal.confirm({\r\n                title: \"确认删除\",\r\n                content: \"您确认要删除所选的 \" + this.selectCount + \" 个文件?\",\r\n                loading: true,\r\n                onOk: () => {\r\n                    let ids = \"\";\r\n                    this.selectList.forEach(function (e) {\r\n                        ids += e.id + \",\";\r\n                    });\r\n                    ids = ids.substring(0, ids.length - 1);\r\n                    deleteFile({\r\n                        ids: ids\r\n                    }).then(res => {\r\n                        this.$Modal.remove();\r\n                        if (res.success) {\r\n                            this.$Message.success(\"批量删除文件成功\");\r\n                            this.clearSelectAll();\r\n                            this.getDataList();\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        },\r\n        remove(v) {\r\n            this.$Modal.confirm({\r\n                title: \"确认删除\",\r\n                content: \"您确认要删除文件 \" + v.name + \" ?\",\r\n                loading: true,\r\n                onOk: () => {\r\n                    deleteFile({\r\n                        ids: v.id\r\n                    }).then(res => {\r\n                        this.$Modal.remove();\r\n                        if (res.success) {\r\n                            this.$Message.success(\"删除文件 \" + v.name + \" 成功\");\r\n                            this.getDataList();\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        },\r\n        handleSubmit() {\r\n            this.$refs.form.validate(valid => {\r\n                if (valid) {\r\n                    this.submitLoading = true;\r\n                    let params = {\r\n                        id: this.form.id,\r\n                        newKey: this.form.fkey,\r\n                        newName: this.form.name\r\n                    };\r\n                    renameFile(params).then(res => {\r\n                        this.submitLoading = false;\r\n                        if (res.success) {\r\n                            this.$Message.success(\"操作成功\");\r\n                            this.getDataList();\r\n                            this.changeFileNameModal = false;\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        },\r\n        rename(v) {\r\n            for (let attr in v) {\r\n                if (v[attr] == null) {\r\n                    v[attr] = \"\";\r\n                }\r\n            }\r\n            let str = JSON.stringify(v);\r\n            let data = JSON.parse(str);\r\n            this.form = data;\r\n            this.changeFileNameModal = true;\r\n        },\r\n        clearSelectAll() {\r\n            this.$refs.table.selectAll(false);\r\n            this.totalSize = \"\";\r\n        },\r\n        changeSelect(e) {\r\n            this.selectList = e;\r\n            this.selectCount = e.length;\r\n            let size = 0;\r\n            e.forEach(item => {\r\n                size += item.size * 1.0;\r\n            });\r\n            this.totalSize = ((size * 1.0) / (1024 * 1024)).toFixed(2) + \" MB\";\r\n        }\r\n    },\r\n    mounted() {\r\n        this.init();\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import \"../../../styles/table-common.less\";\r\n\r\n.search {\r\n    .oss-operation {\r\n        margin-bottom: 2vh;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n        width: 100%;\r\n    }\r\n}\r\n\r\n.oss-wrapper {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    position: relative;\r\n}\r\n\r\n.oss-card {\r\n    margin: 10px 2.5% 10px 0;\r\n    width: 22.5%;\r\n\r\n    :hover {\r\n        .content .other .name {\r\n            color: #1890ff;\r\n            transition: color .3s;\r\n        }\r\n    }\r\n\r\n    cursor: pointer;\r\n\r\n    .ivu-card-body {\r\n        padding: 0;\r\n    }\r\n\r\n    .content {\r\n        display: flex;\r\n        flex-direction: column;\r\n\r\n        :hover {\r\n            .play {\r\n                transition: opacity .3s;\r\n                opacity: 1 !important;\r\n            }\r\n        }\r\n\r\n        .img {\r\n            height: 135px;\r\n            object-fit: cover;\r\n        }\r\n\r\n        .video {\r\n            height: 135px;\r\n            position: relative;\r\n\r\n            .cover {\r\n                height: 100%;\r\n                width: 100%;\r\n                object-fit: fill;\r\n            }\r\n\r\n            .play {\r\n                position: absolute;\r\n                top: 43px;\r\n                left: 117px;\r\n                height: 50px;\r\n                width: 50px;\r\n                opacity: 0.8;\r\n            }\r\n        }\r\n\r\n        .other {\r\n            padding: 16px;\r\n            height: 135px;\r\n\r\n            .name {\r\n                font-size: 16px;\r\n                text-overflow: ellipsis;\r\n                overflow: hidden;\r\n                white-space: nowrap;\r\n                color: rgba(0, 0, 0, .85);\r\n                font-weight: 500;\r\n                margin-bottom: 4px;\r\n            }\r\n\r\n            .key {\r\n                overflow: hidden;\r\n                text-overflow: ellipsis;\r\n                height: 45px;\r\n                word-break: break-all;\r\n                color: rgba(0, 0, 0, .45);\r\n            }\r\n\r\n            .info {\r\n                font-size: 12px;\r\n                color: rgba(0, 0, 0, .45);\r\n                overflow: hidden;\r\n                text-overflow: ellipsis;\r\n                height: 36px;\r\n                word-break: break-all;\r\n            }\r\n        }\r\n\r\n        .actions {\r\n            display: flex;\r\n            align-items: center;\r\n            height: 50px;\r\n            background: #f7f9fa;\r\n            border-top: 1px solid #e8e8e8;\r\n\r\n            i:hover {\r\n                color: #1890ff;\r\n            }\r\n\r\n            .btn {\r\n                display: flex;\r\n                justify-content: center;\r\n                width: 25%;\r\n                border-right: 1px solid #e8e8e8;\r\n            }\r\n\r\n            .btn-no {\r\n                display: flex;\r\n                justify-content: center;\r\n                width: 25%;\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>\r\n"]}]}