{"remainingRequest":"D:\\graduateSys\\registration\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\graduateSys\\registration\\front\\src\\views\\menu\\menu\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\graduateSys\\registration\\front\\src\\views\\menu\\menu\\index.vue","mtime":1743403543362},{"path":"D:\\graduateSys\\registration\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1739857231742},{"path":"D:\\graduateSys\\registration\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":1739857230815},{"path":"D:\\graduateSys\\registration\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1739857231742},{"path":"D:\\graduateSys\\registration\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":1739857212415}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICAgIGFkZFBlcm1pc3Npb24sDQogICAgZWRpdFBlcm1pc3Npb24sDQogICAgZGVsZXRlUGVybWlzc2lvbiwNCiAgICBzZWFyY2hQZXJtaXNzaW9uLA0KICAgIGdldERpY3REYXRhQnlUeXBlLA0KICAgIGdldFVzZXJCeVBlcm1pc3Npb24NCn0gZnJvbSAiLi9hcGkuanMiOw0KaW1wb3J0IEljb25DaG9vc2UgZnJvbSAiQC92aWV3cy90ZW1wbGF0ZS9pY29uLWNob29zZSI7DQppbXBvcnQgdXRpbCBmcm9tICJAL2xpYnMvdXRpbC5qcyI7DQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTogIm1lbnUiLA0KICAgIGNvbXBvbmVudHM6IHsNCiAgICAgICAgSWNvbkNob29zZQ0KICAgIH0sDQogICAgZGF0YSgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIHVzZXJCeVBlcm1pc3Npb25Mb2FkaW5nOiBmYWxzZSwNCiAgICAgICAgICAgIGxvYWRpbmc6IHRydWUsDQogICAgICAgICAgICBzdHJpY3Q6IHRydWUsDQogICAgICAgICAgICBtYXhIZWlnaHQ6IDUwMCwNCiAgICAgICAgICAgIG1lbnVNb2RhbFZpc2libGU6IGZhbHNlLA0KICAgICAgICAgICAgaWNvbk1vZGFsVmlzaWJsZTogZmFsc2UsDQogICAgICAgICAgICBzZWxlY3RMaXN0OiBbXSwNCiAgICAgICAgICAgIHNlbGVjdENvdW50OiAwLA0KICAgICAgICAgICAgc2hvd1BhcmVudDogZmFsc2UsDQogICAgICAgICAgICBzZWFyY2hLZXk6ICIiLA0KICAgICAgICAgICAgcGFyZW50VGl0bGU6ICIiLA0KICAgICAgICAgICAgZWRpdFRpdGxlOiAiIiwNCiAgICAgICAgICAgIG1vZGFsVGl0bGU6ICIiLA0KICAgICAgICAgICAgZm9ybTogew0KICAgICAgICAgICAgICAgIGlkOiAiIiwNCiAgICAgICAgICAgICAgICB0aXRsZTogIiIsDQogICAgICAgICAgICAgICAgbmFtZTogIiIsDQogICAgICAgICAgICAgICAgaWNvbjogIiIsDQogICAgICAgICAgICAgICAgcGF0aDogIiIsDQogICAgICAgICAgICAgICAgY29tcG9uZW50OiAiIiwNCiAgICAgICAgICAgICAgICBwYXJlbnRJZDogIiIsDQogICAgICAgICAgICAgICAgYnV0dG9uVHlwZTogIiIsDQogICAgICAgICAgICAgICAgdHlwZTogMCwNCiAgICAgICAgICAgICAgICBzb3J0T3JkZXI6IDAsDQogICAgICAgICAgICAgICAgbGV2ZWw6IDAsDQogICAgICAgICAgICAgICAgc3RhdHVzOiAwLA0KICAgICAgICAgICAgICAgIHVybDogIiINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBmb3JtQWRkOiB7DQogICAgICAgICAgICAgICAgYnV0dG9uVHlwZTogIiINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBmb3JtVmFsaWRhdGU6IHsNCiAgICAgICAgICAgICAgICB0aXRsZTogW3sNCiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLoj5zljZXlkI3np7DkuI3og73kuLrnqboiLA0KICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciINCiAgICAgICAgICAgICAgICB9XSwNCiAgICAgICAgICAgICAgICBuYW1lOiBbew0KICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIui3r+eUseiLseaWh+WQjeS4jeiDveS4uuepuiIsDQogICAgICAgICAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIg0KICAgICAgICAgICAgICAgIH1dLA0KICAgICAgICAgICAgICAgIGljb246IFt7DQogICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAi5Zu+5qCH5LiN6IO95Li656m6IiwNCiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogImNsaWNrIg0KICAgICAgICAgICAgICAgIH1dLA0KICAgICAgICAgICAgICAgIHBhdGg6IFt7DQogICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAi6Lev5b6E5LiN6IO95Li656m6IiwNCiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiDQogICAgICAgICAgICAgICAgfV0sDQogICAgICAgICAgICAgICAgY29tcG9uZW50OiBbew0KICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIuWJjeerr+S7o+eggeS4jeiDveS4uuepuiIsDQogICAgICAgICAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIg0KICAgICAgICAgICAgICAgIH1dLA0KICAgICAgICAgICAgICAgIHNvcnRPcmRlcjogW3sNCiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJudW1iZXIiLA0KICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAi5o6S5bqP5YC85LiN6IO95Li656m6IiwNCiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiDQogICAgICAgICAgICAgICAgfV0NCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBzdWJtaXRMb2FkaW5nOiBmYWxzZSwNCiAgICAgICAgICAgIGRhdGE6IFtdLA0KICAgICAgICAgICAgZGljdFBlcm1pc3Npb25zOiBbXSwNCiAgICAgICAgICAgIHVzZXJCeVBlcm1pc3Npb25MaXN0OiBbXSwNCiAgICAgICAgICAgIHVzZXJCeVBlcm1pc3Npb25Db2x1bW5zOiBbew0KICAgICAgICAgICAgICAgIHRpdGxlOiAi55So5oi35ZCNIiwNCiAgICAgICAgICAgICAgICBrZXk6ICJ1c2VyTmFtZSIsDQogICAgICAgICAgICAgICAgbWluV2lkdGg6IDEyMCwNCiAgICAgICAgICAgICAgICB0b29sdGlwOiB0cnVlLA0KICAgICAgICAgICAgICAgIHNvcnRhYmxlOiBmYWxzZSwNCiAgICAgICAgICAgIH0sIHsNCiAgICAgICAgICAgICAgICB0aXRsZTogIuWvueW6lOinkuiJsiIsDQogICAgICAgICAgICAgICAga2V5OiAicm9sZVN0ciIsDQogICAgICAgICAgICAgICAgbWluV2lkdGg6IDIwMCwNCiAgICAgICAgICAgICAgICB0b29sdGlwOiB0cnVlLA0KICAgICAgICAgICAgICAgIHNvcnRhYmxlOiBmYWxzZSwNCiAgICAgICAgICAgIH0sIHsNCiAgICAgICAgICAgICAgICB0aXRsZTogIueZu+mZhui0puWPtyIsDQogICAgICAgICAgICAgICAga2V5OiAiY29kZSIsDQogICAgICAgICAgICAgICAgbWluV2lkdGg6IDEyMCwNCiAgICAgICAgICAgICAgICB0b29sdGlwOiB0cnVlLA0KICAgICAgICAgICAgICAgIHNvcnRhYmxlOiBmYWxzZSwNCiAgICAgICAgICAgIH0sIHsNCiAgICAgICAgICAgICAgICB0aXRsZTogIueUqOaIt+aJi+acuiIsDQogICAgICAgICAgICAgICAga2V5OiAibW9iaWxlIiwNCiAgICAgICAgICAgICAgICBtaW5XaWR0aDogMTIwLA0KICAgICAgICAgICAgICAgIHRvb2x0aXA6IHRydWUsDQogICAgICAgICAgICAgICAgc29ydGFibGU6IGZhbHNlLA0KICAgICAgICAgICAgfSwgew0KICAgICAgICAgICAgICAgIHRpdGxlOiAi55So5oi35qCH6K+GIiwNCiAgICAgICAgICAgICAgICBrZXk6ICJ1c2VySWQiLA0KICAgICAgICAgICAgICAgIG1pbldpZHRoOiAxMjAsDQogICAgICAgICAgICAgICAgdG9vbHRpcDogdHJ1ZSwNCiAgICAgICAgICAgICAgICBzb3J0YWJsZTogZmFsc2UsDQogICAgICAgICAgICB9XQ0KICAgICAgICB9Ow0KICAgIH0sDQogICAgbWV0aG9kczogew0KICAgICAgICBpbml0KCkgew0KICAgICAgICAgICAgdGhpcy5nZXRQZXJtaXNzaW9uTGlzdCgpOw0KICAgICAgICAgICAgdGhpcy5nZXREaWN0UGVybWlzc2lvbnMoKTsNCiAgICAgICAgfSwNCiAgICAgICAgZ2V0RGljdFBlcm1pc3Npb25zKCkgew0KICAgICAgICAgICAgZ2V0RGljdERhdGFCeVR5cGUoInBlcm1pc3Npb25fdHlwZSIpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWN0UGVybWlzc2lvbnMgPSByZXMucmVzdWx0Ow0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9LA0KICAgICAgICByZW5kZXJDb250ZW50KGgsIHsNCiAgICAgICAgICAgIHJvb3QsDQogICAgICAgICAgICBub2RlLA0KICAgICAgICAgICAgZGF0YQ0KICAgICAgICB9KSB7DQogICAgICAgICAgICBsZXQgaWNvbiA9ICIiOw0KICAgICAgICAgICAgaWYgKGRhdGEubGV2ZWwgPT0gMCkgew0KICAgICAgICAgICAgICAgIGljb24gPSAiaW9zLW5hdmlnYXRlIjsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5sZXZlbCA9PSAxKSB7DQogICAgICAgICAgICAgICAgaWNvbiA9ICJtZC1saXN0LWJveCI7DQogICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEubGV2ZWwgPT0gMikgew0KICAgICAgICAgICAgICAgIGljb24gPSAibWQtbGlzdCI7DQogICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEubGV2ZWwgPT0gMykgew0KICAgICAgICAgICAgICAgIGljb24gPSAibWQtcmFkaW8tYnV0dG9uLW9uIjsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgaWNvbiA9ICJtZC1yYWRpby1idXR0b24tb2ZmIjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBoKCJzcGFuIiwgWw0KICAgICAgICAgICAgICAgIGgoInNwYW4iLCBbDQogICAgICAgICAgICAgICAgICAgIGgoIkljb24iLCB7DQogICAgICAgICAgICAgICAgICAgICAgICBwcm9wczogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGljb24sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogIjE2Ig0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hcmdpbi1yaWdodCI6ICI4cHgiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXJnaW4tYm90dG9tIjogIjNweCINCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgICAgIGgoInNwYW4iLCBkYXRhLnRpdGxlKQ0KICAgICAgICAgICAgICAgIF0pDQogICAgICAgICAgICBdKTsNCiAgICAgICAgfSwNCiAgICAgICAgZ2V0UGVybWlzc2lvbkxpc3QoKSB7DQogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOw0KICAgICAgICAgICAgdGhpcy5nZXRSZXF1ZXN0KCIvcGVybWlzc2lvbi9nZXRBbGxMaXN0IikudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIGlmIChyZXMuc3VjY2Vzcykgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSByZXMucmVzdWx0Ow0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9LA0KICAgICAgICBzZWFyY2goKSB7DQogICAgICAgICAgICBpZiAodGhpcy5zZWFyY2hLZXkpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOw0KICAgICAgICAgICAgICAgIHNlYXJjaFBlcm1pc3Npb24oew0KICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGhpcy5zZWFyY2hLZXkNCiAgICAgICAgICAgICAgICB9KS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHJlcy5yZXN1bHQ7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy5nZXRQZXJtaXNzaW9uTGlzdCgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBzZWxlY3RUcmVlKHYpIHsNCiAgICAgICAgICAgIGlmICh2Lmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAvLyDovazmjaJudWxs5Li6IiINCiAgICAgICAgICAgICAgICBmb3IgKGxldCBhdHRyIGluIHZbMF0pIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHZbMF1bYXR0cl0gPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdlswXVthdHRyXSA9ICIiOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGxldCBzdHIgPSBKU09OLnN0cmluZ2lmeSh2WzBdKTsNCiAgICAgICAgICAgICAgICBsZXQgbWVudSA9IEpTT04ucGFyc2Uoc3RyKTsNCiAgICAgICAgICAgICAgICB0aGlzLmZvcm0gPSBtZW51Ow0KICAgICAgICAgICAgICAgIHRoaXMuZWRpdFRpdGxlID0gbWVudS50aXRsZTsNCiAgICAgICAgICAgICAgICB0aGlzLmdldFVzZXJCeVBlcm1pc3Npb24oKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxFZGl0KCk7DQogICAgICAgICAgICAgICAgdGhpcy51c2VyQnlQZXJtaXNzaW9uTGlzdCA9IFtdOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBnZXRVc2VyQnlQZXJtaXNzaW9uKCkgew0KICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzOw0KICAgICAgICAgICAgdGhhdC51c2VyQnlQZXJtaXNzaW9uTG9hZGluZyA9IHRydWU7DQogICAgICAgICAgICBnZXRVc2VyQnlQZXJtaXNzaW9uKHsNCiAgICAgICAgICAgICAgICBwZXJtaXNzaW9uSWQ6IHRoYXQuZm9ybS5pZA0KICAgICAgICAgICAgfSkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgIHRoYXQudXNlckJ5UGVybWlzc2lvbkxvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhhdC51c2VyQnlQZXJtaXNzaW9uTGlzdCA9IHJlcy5yZXN1bHQ7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCiAgICAgICAgY2FuY2VsRWRpdCgpIHsNCiAgICAgICAgICAgIGxldCBkYXRhID0gdGhpcy4kcmVmcy50cmVlLmdldFNlbGVjdGVkTm9kZXMoKVswXTsNCiAgICAgICAgICAgIGlmIChkYXRhKSB7DQogICAgICAgICAgICAgICAgZGF0YS5zZWxlY3RlZCA9IGZhbHNlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy4kcmVmcy5mb3JtLnJlc2V0RmllbGRzKCk7DQogICAgICAgICAgICB0aGlzLmZvcm0uaWQgPSAiIjsNCiAgICAgICAgICAgIHRoaXMuZWRpdFRpdGxlID0gIiI7DQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZVJlc2V0KCkgew0KICAgICAgICAgICAgbGV0IHR5cGUgPSB0aGlzLmZvcm0udHlwZTsNCiAgICAgICAgICAgIHRoaXMuJHJlZnMuZm9ybS5yZXNldEZpZWxkcygpOw0KICAgICAgICAgICAgdGhpcy5mb3JtLmljb24gPSAiIjsNCiAgICAgICAgICAgIHRoaXMuZm9ybS5jb21wb25lbnQgPSAiIjsNCiAgICAgICAgICAgIHRoaXMuZm9ybS50eXBlID0gdHlwZTsNCiAgICAgICAgfSwNCiAgICAgICAgc3VibWl0RWRpdCgpIHsNCiAgICAgICAgICAgIHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSh2YWxpZCA9PiB7DQogICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7DQogICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5mb3JtLmlkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLndhcm5pbmcoIuivt+WFiOeCueWHu+mAieaLqeimgeS/ruaUueeahOiPnOWNleiKgueCuSIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHRoaXMuc3VibWl0TG9hZGluZyA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZvcm0uc29ydE9yZGVyID09IG51bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybS5zb3J0T3JkZXIgPSAiIjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5mb3JtLmJ1dHRvblR5cGUgPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtLmJ1dHRvblR5cGUgPSAiIjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5mb3JtLnR5cGUgPT0gMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtLm5hbWUgPSAiIjsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybS5pY29uID0gIiI7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm0uY29tcG9uZW50ID0gIiI7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuZm9ybS51cGRhdGVUaW1lOw0KICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5mb3JtLmNoaWxkcmVuOw0KICAgICAgICAgICAgICAgICAgICBlZGl0UGVybWlzc2lvbih0aGlzLmZvcm0pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3VibWl0TG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKCLnvJbovpHmiJDlip8iKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDmoIforrDph43mlrDojrflj5boj5zljZXmlbDmja4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNldEFkZGVkIiwgZmFsc2UpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWwuaW5pdFJvdXRlcih0aGlzKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXQoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lbnVNb2RhbFZpc2libGUgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQogICAgICAgIHN1Ym1pdEFkZCgpIHsNCiAgICAgICAgICAgIHRoaXMuJHJlZnMuZm9ybUFkZC52YWxpZGF0ZSh2YWxpZCA9PiB7DQogICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuc3VibWl0TG9hZGluZyA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZvcm1BZGQudHlwZSA9PSAxKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm1BZGQubmFtZSA9ICIiOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtQWRkLmljb24gPSAiIjsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybUFkZC5jb21wb25lbnQgPSAiIjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBhZGRQZXJtaXNzaW9uKHRoaXMuZm9ybUFkZCkudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJtaXRMb2FkaW5nID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRNZXNzYWdlLnN1Y2Nlc3MoIua3u+WKoOaIkOWKnyIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0QWRkZWQiLCBmYWxzZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbC5pbml0Um91dGVyKHRoaXMpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdCgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVudU1vZGFsVmlzaWJsZSA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCiAgICAgICAgYWRkTWVudSgpIHsNCiAgICAgICAgICAgIGlmICghdGhpcy5mb3JtLmlkKSB7DQogICAgICAgICAgICAgICAgdGhpcy5tb2RhbFRpdGxlID0gIua3u+WKoOmhtumDqOiPnOWNlSjlj6/mi5bliqgpIjsNCiAgICAgICAgICAgICAgICB0aGlzLnNob3dQYXJlbnQgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICB0aGlzLmZvcm1BZGQgPSB7DQogICAgICAgICAgICAgICAgICAgIHR5cGU6IC0xLA0KICAgICAgICAgICAgICAgICAgICBsZXZlbDogMCwNCiAgICAgICAgICAgICAgICAgICAgc29ydE9yZGVyOiAwLA0KICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IDANCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIHRoaXMubWVudU1vZGFsVmlzaWJsZSA9IHRydWU7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5wYXJlbnRUaXRsZSA9IHRoaXMuZm9ybS50aXRsZTsNCiAgICAgICAgICAgIHRoaXMubW9kYWxUaXRsZSA9ICLmt7vliqDlrZDoioLngrkiOw0KICAgICAgICAgICAgdGhpcy5zaG93UGFyZW50ID0gdHJ1ZTsNCiAgICAgICAgICAgIGxldCB0eXBlID0gMDsNCiAgICAgICAgICAgIGlmICh0aGlzLmZvcm0ubGV2ZWwgPT0gMSkgew0KICAgICAgICAgICAgICAgIHR5cGUgPSAwOw0KICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmZvcm0ubGV2ZWwgPT0gMikgew0KICAgICAgICAgICAgICAgIHR5cGUgPSAxOw0KICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmZvcm0ubGV2ZWwgPT0gMykgew0KICAgICAgICAgICAgICAgIHRoaXMuJE1vZGFsLndhcm5pbmcoew0KICAgICAgICAgICAgICAgICAgICB0aXRsZTogIuaKseatie+8jOS4jeiDvea3u+WKoOWVpiIsDQogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICLku4XmlK/mjIEy57qn6I+c5Y2V55uu5b2VIg0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdHlwZSA9IDA7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBsZXQgY29tcG9uZW50ID0gIiI7DQogICAgICAgICAgICB0aGlzLmZvcm1BZGQgPSB7DQogICAgICAgICAgICAgICAgaWNvbjogIiIsDQogICAgICAgICAgICAgICAgdHlwZTogdHlwZSwNCiAgICAgICAgICAgICAgICBwYXJlbnRJZDogdGhpcy5mb3JtLmlkLA0KICAgICAgICAgICAgICAgIGxldmVsOiBOdW1iZXIodGhpcy5mb3JtLmxldmVsKSArIDEsDQogICAgICAgICAgICAgICAgc29ydE9yZGVyOiAwLA0KICAgICAgICAgICAgICAgIGJ1dHRvblR5cGU6ICIiLA0KICAgICAgICAgICAgICAgIHN0YXR1czogMA0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGlmICh0aGlzLmZvcm0ubGV2ZWwgPT0gMCkgew0KICAgICAgICAgICAgICAgIHRoaXMuZm9ybUFkZC5wYXRoID0gIi8iOw0KICAgICAgICAgICAgICAgIHRoaXMuZm9ybUFkZC5jb21wb25lbnQgPSAiTWFpbiI7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLm1lbnVNb2RhbFZpc2libGUgPSB0cnVlOw0KICAgICAgICB9LA0KICAgICAgICBjaGFuZ2VTZWxlY3Qodikgew0KICAgICAgICAgICAgdGhpcy5zZWxlY3RDb3VudCA9IHYubGVuZ3RoOw0KICAgICAgICAgICAgdGhpcy5zZWxlY3RMaXN0ID0gdjsNCiAgICAgICAgfSwNCiAgICAgICAgZGVsZXRlUGVybWlzc2lvbkZ4KCkgew0KICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0Q291bnQgPD0gMCkgew0KICAgICAgICAgICAgICAgIHRoaXMuJE1lc3NhZ2Uud2FybmluZygi6K+36YCJ5oup6KaB5Yig6Zmk55qE6I+c5Y2VIik7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy4kTW9kYWwuY29uZmlybSh7DQogICAgICAgICAgICAgICAgdGl0bGU6ICLnoa7orqTliKDpmaQiLA0KICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICLmgqjnoa7orqTopoHliKDpmaTmiYDpgInnmoQgIiArIHRoaXMuc2VsZWN0Q291bnQgKyAiIOadoeaVsOaNrj8iLA0KICAgICAgICAgICAgICAgIGxvYWRpbmc6IHRydWUsDQogICAgICAgICAgICAgICAgb25PazogKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICBsZXQgaWRzID0gIiI7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0TGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZHMgKz0gZS5pZCArICIsIjsNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIGlkcyA9IGlkcy5zdWJzdHJpbmcoMCwgaWRzLmxlbmd0aCAtIDEpOw0KICAgICAgICAgICAgICAgICAgICBkZWxldGVQZXJtaXNzaW9uKHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlkczogaWRzDQogICAgICAgICAgICAgICAgICAgIH0pLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJE1vZGFsLnJlbW92ZSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kTWVzc2FnZS5zdWNjZXNzKCLliKDpmaTmiJDlip8iKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNldEFkZGVkIiwgZmFsc2UpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWwuaW5pdFJvdXRlcih0aGlzKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdExpc3QgPSBbXTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdENvdW50ID0gMDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbmNlbEVkaXQoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXQoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICB9LA0KICAgIG1vdW50ZWQoKSB7DQogICAgICAgIGxldCBoZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0Ow0KICAgICAgICB0aGlzLm1heEhlaWdodCA9IE51bWJlcihoZWlnaHQgLSAyNjApOw0KICAgICAgICB0aGlzLmluaXQoKTsNCiAgICB9DQp9Ow0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/menu/menu","sourcesContent":["<template>\r\n<div class=\"search\">\r\n    <Card>\r\n        <Row :gutter=\"16\">\r\n            <Col span=\"7\">\r\n            <Row :gutter=\"16\">\r\n                <Col span=\"23\">\r\n                <div class=\"tree-bar\" style=\"overflow-y: scroll;padding-right: 50px;\" :style=\"{maxHeight: maxHeight + 'px'}\">\r\n                    <Tree ref=\"tree\" :data=\"data\" show-checkbox :render=\"renderContent\" @on-select-change=\"selectTree\" @on-check-change=\"changeSelect\" :check-strictly=\"!strict\"></Tree>\r\n                    <Spin size=\"large\" fix v-if=\"loading\"></Spin>\r\n                </div>\r\n                </Col>\r\n            </Row>\r\n            </Col>\r\n            <Col span=\"15\">\r\n            <Row class=\"operation\">\r\n                <Col span=\"12\">\r\n                <Button @click=\"addMenu\" type=\"primary\" shape=\"circle\" ghost icon=\"md-add\">添加菜单</Button>\r\n                <Button @click=\"deletePermissionFx\" type=\"error\" shape=\"circle\" ghost icon=\"md-trash\">删除菜单</Button>\r\n                <Button @click=\"getPermissionList\" type=\"success\" shape=\"circle\" ghost icon=\"md-trash\">刷新菜单</Button>\r\n                <i-switch v-model=\"strict\" size=\"large\" style=\"margin-left:5px\">\r\n                    <span slot=\"open\">级联</span>\r\n                    <span slot=\"close\">单选</span>\r\n                </i-switch>\r\n                </Col>\r\n                <Col span=\"12\">\r\n                <Input v-model=\"searchKey\" suffix=\"ios-search\" @on-change=\"search\" placeholder=\"模拟搜索菜单\" clearable />\r\n                </Col>\r\n            </Row>\r\n            <Divider dashed />\r\n            <Row :gutter=\"16\" v-show=\"form.id\">\r\n                <Col span=\"24\">\r\n                <Alert show-icon type=\"success\">\r\n                    当前选择的菜单：\r\n                    <span class=\"select-title\">{{editTitle}}</span>\r\n                    <Divider type=\"vertical\" />\r\n                    <a class=\"select-clear\" @click=\"cancelEdit\">取消选择</a>\r\n                </Alert>\r\n                </Col>\r\n                <Divider dashed />\r\n            </Row>\r\n            <Form ref=\"form\" :model=\"form\" :label-width=\"110\" :rules=\"formValidate\">\r\n                <Row :gutter=\"16\">\r\n                    <Col span=\"12\">\r\n                    <FormItem label=\"类型\" prop=\"type\">\r\n                        <div v-show=\"form.type==-1\">\r\n                            <Icon type=\"ios-navigate-outline\" size=\"16\" style=\"margin-right:5px;\"></Icon>\r\n                            <span>一级菜单</span>\r\n                        </div>\r\n                        <div v-show=\"form.type==0\">\r\n                            <Icon type=\"ios-list-box-outline\" size=\"16\" style=\"margin-right:5px;\"></Icon>\r\n                            <span>普通菜单</span>\r\n                        </div>\r\n                        <div v-show=\"form.type==1\">\r\n                            <Icon type=\"md-radio-button-on\" size=\"16\" style=\"margin-right:5px;\"></Icon>\r\n                            <span>按钮级权限</span>\r\n                        </div>\r\n                    </FormItem>\r\n                    </Col>\r\n                    <Col span=\"12\" v-show=\"form.type==-1||form.type==0\">\r\n                    <FormItem label=\"名称\" prop=\"title\">\r\n                        <Input v-model=\"form.title\" style=\"width:100%\" />\r\n                    </FormItem>\r\n                    </Col>\r\n                    <Col span=\"12\" v-show=\"form.type==1\">\r\n                    <FormItem label=\"名称\" prop=\"title\">\r\n                        <Input v-model=\"form.title\" placeholder=\"操作按钮名称不得重复\" style=\"width:100%\" />\r\n                    </FormItem>\r\n                    </Col>\r\n                    <Col span=\"12\" v-show=\"form.type==0\">\r\n                    <FormItem label=\"路径\" prop=\"path\">\r\n                        <Input v-model=\"form.path\" style=\"width:100%\" />\r\n                    </FormItem>\r\n                    </Col>\r\n                    <Col span=\"12\" v-show=\"form.type==1\">\r\n                    <FormItem label=\"请求路径\" prop=\"path\">\r\n                        <Input v-model=\"form.path\" placeholder=\"若无可填写'无'\" style=\"width:100%\" />\r\n                    </FormItem>\r\n                    </Col>\r\n                    <Col span=\"12\" v-show=\"form.type==1\">\r\n                    <FormItem label=\"按钮权限类型\" prop=\"buttonType\">\r\n                        <Select v-model=\"form.buttonType\" placeholder=\"请选择或输入搜索\" filterable clearable style=\"width:100%\">\r\n                            <Option v-for=\"(item, i) in dictPermissions\" :key=\"i\" :value=\"item.value\">{{item.title}}</Option>\r\n                        </Select>\r\n                    </FormItem>\r\n                    </Col>\r\n                    <Col span=\"12\" v-show=\"form.type==-1\">\r\n                    <FormItem :label=\"form.type==-1? '英文名' : '路由英文名'\" prop=\"name\">\r\n                        <Input v-model=\"form.name\" placeholder=\"需唯一\" style=\"width:100%\" />\r\n                    </FormItem>\r\n                    </Col>\r\n                    <Col span=\"12\" v-show=\"form.type==-1||form.type==0\">\r\n                    <FormItem label=\"图标\" prop=\"icon\">\r\n                        <icon-choose v-model=\"form.icon\"></icon-choose>\r\n                    </FormItem>\r\n                    </Col>\r\n                    <Col span=\"12\" v-show=\"form.type==0\">\r\n                    <FormItem label=\"前端代码\" prop=\"component\">\r\n                        <Input v-model=\"form.component\" style=\"width:100%\" />\r\n                    </FormItem>\r\n                    </Col>\r\n                    <Col span=\"12\">\r\n                    <FormItem label=\"排序值\" prop=\"sortOrder\">\r\n                        <InputNumber :max=\"1000\" :min=\"0\" v-model=\"form.sortOrder\" style=\"width:100%\"></InputNumber>\r\n                    </FormItem>\r\n                    </Col>\r\n                    <Col span=\"12\">\r\n                    <FormItem label=\"是否启用\" prop=\"status\">\r\n                        <i-switch size=\"large\" v-model=\"form.status\" :true-value=\"0\" :false-value=\"-1\">\r\n                            <span slot=\"open\">启用</span>\r\n                            <span slot=\"close\">禁用</span>\r\n                        </i-switch>\r\n                    </FormItem>\r\n                    </Col>\r\n                    <Col span=\"12\">\r\n                    <Form-item>\r\n                        <Button style=\"margin-right:5px\" @click=\"submitEdit\" ghost shape=\"circle\" :loading=\"submitLoading\" type=\"primary\" icon=\"ios-create-outline\">保存菜单</Button>\r\n                        <Divider type=\"vertical\" />\r\n                        <Button icon=\"ios-undo\" type=\"error\" ghost shape=\"circle\" @click=\"handleReset\">重置菜单</Button>\r\n                    </Form-item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n            <Divider>有 {{form.title}} 权限的用户</Divider>\r\n            <Row :gutter=\"16\">\r\n                <Table :loading=\"userByPermissionLoading\" border stripe size=\"small\" :columns=\"userByPermissionColumns\" :data=\"userByPermissionList\"></Table>\r\n            </Row>\r\n            </Col>\r\n        </Row>\r\n    </Card>\r\n\r\n    <Modal draggable :title=\"modalTitle\" v-model=\"menuModalVisible\" :mask=\"false\" :width=\"500\" :styles=\"{top: '30px'}\">\r\n        <Form ref=\"formAdd\" :model=\"formAdd\" :label-width=\"100\" :rules=\"formValidate\">\r\n            <div v-if=\"showParent\">\r\n                <FormItem label=\"上级节点：\">{{parentTitle}}</FormItem>\r\n            </div>\r\n            <FormItem label=\"类型\" prop=\"type\">\r\n                <div v-show=\"formAdd.type==-1\">\r\n                    <Icon type=\"ios-navigate-outline\" size=\"16\" style=\"margin-right:5px;\"></Icon>\r\n                    <span>顶部菜单</span>\r\n                </div>\r\n                <div v-show=\"formAdd.type==0\">\r\n                    <Icon type=\"ios-list-box-outline\" size=\"16\" style=\"margin-right:5px;\"></Icon>\r\n                    <span>页面菜单</span>\r\n                </div>\r\n                <div v-show=\"formAdd.type==1\">\r\n                    <Icon type=\"md-radio-button-on\" size=\"16\" style=\"margin-right:5px;\"></Icon>\r\n                    <span>操作按钮</span>\r\n                </div>\r\n            </FormItem>\r\n            <FormItem label=\"名称\" prop=\"title\" v-if=\"formAdd.type==-1||formAdd.type==0\">\r\n                <Input v-model=\"formAdd.title\" />\r\n            </FormItem>\r\n            <FormItem label=\"名称\" prop=\"title\" v-if=\"formAdd.type==1\" class=\"block-tool\">\r\n                <Tooltip placement=\"right\" content=\"操作按钮名称不得重复\">\r\n                    <Input v-model=\"formAdd.title\" />\r\n                </Tooltip>\r\n            </FormItem>\r\n            <FormItem label=\"路径\" prop=\"path\" v-if=\"formAdd.type==0\">\r\n                <Input v-model=\"formAdd.path\" />\r\n            </FormItem>\r\n            <FormItem label=\"请求路径\" prop=\"path\" v-if=\"formAdd.type==1\" class=\"block-tool\">\r\n                <Tooltip placement=\"right\" :max-width=\"230\" transfer content=\"填写后端请求URL，后端将作权限拦截，若无可填写'无'或其他\">\r\n                    <Input v-model=\"formAdd.path\" />\r\n                </Tooltip>\r\n            </FormItem>\r\n            <FormItem label=\"按钮权限类型\" prop=\"buttonType\" v-if=\"formAdd.type==1\">\r\n                <Select v-model=\"formAdd.buttonType\" placeholder=\"请选择或输入搜索\" filterable clearable>\r\n                    <Option v-for=\"(item, i) in dictPermissions\" :key=\"i\" :value=\"item.value\">{{item.title}}</Option>\r\n                </Select>\r\n            </FormItem>\r\n            <FormItem label=\"英文名\" prop=\"name\" v-if=\"formAdd.type==-1\" class=\"block-tool\">\r\n                <Tooltip placement=\"right\" content=\"需唯一\">\r\n                    <Input v-model=\"formAdd.name\" />\r\n                </Tooltip>\r\n            </FormItem>\r\n            <FormItem label=\"路由英文名\" prop=\"name\" v-if=\"formAdd.type==0\" class=\"block-tool\">\r\n                <Tooltip placement=\"right\" content=\"需唯一\">\r\n                    <Input v-model=\"formAdd.name\" />\r\n                </Tooltip>\r\n            </FormItem>\r\n            <FormItem label=\"图标\" prop=\"icon\" v-if=\"formAdd.type==-1||formAdd.type==0\">\r\n                <icon-choose v-model=\"formAdd.icon\"></icon-choose>\r\n            </FormItem>\r\n            <FormItem label=\"前端代码\" prop=\"component\" v-if=\"formAdd.type==0\">\r\n                <Input v-model=\"formAdd.component\" />\r\n            </FormItem>\r\n            <FormItem label=\"排序值\" prop=\"sortOrder\">\r\n                <InputNumber :max=\"1000\" :min=\"0\" v-model=\"formAdd.sortOrder\"></InputNumber>\r\n            </FormItem>\r\n            <FormItem label=\"是否启用\" prop=\"status\">\r\n                <i-switch size=\"large\" v-model=\"formAdd.status\" :true-value=\"0\" :false-value=\"-1\">\r\n                    <span slot=\"open\">启用</span>\r\n                    <span slot=\"close\">禁用</span>\r\n                </i-switch>\r\n            </FormItem>\r\n        </Form>\r\n        <div slot=\"footer\">\r\n            <Button type=\"text\" @click=\"menuModalVisible = false\">取消</Button>\r\n            <Button type=\"primary\" :loading=\"submitLoading\" @click=\"submitAdd\">提交</Button>\r\n        </div>\r\n    </Modal>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n    addPermission,\r\n    editPermission,\r\n    deletePermission,\r\n    searchPermission,\r\n    getDictDataByType,\r\n    getUserByPermission\r\n} from \"./api.js\";\r\nimport IconChoose from \"@/views/template/icon-choose\";\r\nimport util from \"@/libs/util.js\";\r\nexport default {\r\n    name: \"menu\",\r\n    components: {\r\n        IconChoose\r\n    },\r\n    data() {\r\n        return {\r\n            userByPermissionLoading: false,\r\n            loading: true,\r\n            strict: true,\r\n            maxHeight: 500,\r\n            menuModalVisible: false,\r\n            iconModalVisible: false,\r\n            selectList: [],\r\n            selectCount: 0,\r\n            showParent: false,\r\n            searchKey: \"\",\r\n            parentTitle: \"\",\r\n            editTitle: \"\",\r\n            modalTitle: \"\",\r\n            form: {\r\n                id: \"\",\r\n                title: \"\",\r\n                name: \"\",\r\n                icon: \"\",\r\n                path: \"\",\r\n                component: \"\",\r\n                parentId: \"\",\r\n                buttonType: \"\",\r\n                type: 0,\r\n                sortOrder: 0,\r\n                level: 0,\r\n                status: 0,\r\n                url: \"\"\r\n            },\r\n            formAdd: {\r\n                buttonType: \"\"\r\n            },\r\n            formValidate: {\r\n                title: [{\r\n                    required: true,\r\n                    message: \"菜单名称不能为空\",\r\n                    trigger: \"blur\"\r\n                }],\r\n                name: [{\r\n                    required: true,\r\n                    message: \"路由英文名不能为空\",\r\n                    trigger: \"blur\"\r\n                }],\r\n                icon: [{\r\n                    required: true,\r\n                    message: \"图标不能为空\",\r\n                    trigger: \"click\"\r\n                }],\r\n                path: [{\r\n                    required: true,\r\n                    message: \"路径不能为空\",\r\n                    trigger: \"blur\"\r\n                }],\r\n                component: [{\r\n                    required: true,\r\n                    message: \"前端代码不能为空\",\r\n                    trigger: \"blur\"\r\n                }],\r\n                sortOrder: [{\r\n                    required: true,\r\n                    type: \"number\",\r\n                    message: \"排序值不能为空\",\r\n                    trigger: \"blur\"\r\n                }]\r\n            },\r\n            submitLoading: false,\r\n            data: [],\r\n            dictPermissions: [],\r\n            userByPermissionList: [],\r\n            userByPermissionColumns: [{\r\n                title: \"用户名\",\r\n                key: \"userName\",\r\n                minWidth: 120,\r\n                tooltip: true,\r\n                sortable: false,\r\n            }, {\r\n                title: \"对应角色\",\r\n                key: \"roleStr\",\r\n                minWidth: 200,\r\n                tooltip: true,\r\n                sortable: false,\r\n            }, {\r\n                title: \"登陆账号\",\r\n                key: \"code\",\r\n                minWidth: 120,\r\n                tooltip: true,\r\n                sortable: false,\r\n            }, {\r\n                title: \"用户手机\",\r\n                key: \"mobile\",\r\n                minWidth: 120,\r\n                tooltip: true,\r\n                sortable: false,\r\n            }, {\r\n                title: \"用户标识\",\r\n                key: \"userId\",\r\n                minWidth: 120,\r\n                tooltip: true,\r\n                sortable: false,\r\n            }]\r\n        };\r\n    },\r\n    methods: {\r\n        init() {\r\n            this.getPermissionList();\r\n            this.getDictPermissions();\r\n        },\r\n        getDictPermissions() {\r\n            getDictDataByType(\"permission_type\").then(res => {\r\n                if (res.success) {\r\n                    this.dictPermissions = res.result;\r\n                }\r\n            });\r\n        },\r\n        renderContent(h, {\r\n            root,\r\n            node,\r\n            data\r\n        }) {\r\n            let icon = \"\";\r\n            if (data.level == 0) {\r\n                icon = \"ios-navigate\";\r\n            } else if (data.level == 1) {\r\n                icon = \"md-list-box\";\r\n            } else if (data.level == 2) {\r\n                icon = \"md-list\";\r\n            } else if (data.level == 3) {\r\n                icon = \"md-radio-button-on\";\r\n            } else {\r\n                icon = \"md-radio-button-off\";\r\n            }\r\n            return h(\"span\", [\r\n                h(\"span\", [\r\n                    h(\"Icon\", {\r\n                        props: {\r\n                            type: icon,\r\n                            size: \"16\"\r\n                        },\r\n                        style: {\r\n                            \"margin-right\": \"8px\",\r\n                            \"margin-bottom\": \"3px\"\r\n                        }\r\n                    }),\r\n                    h(\"span\", data.title)\r\n                ])\r\n            ]);\r\n        },\r\n        getPermissionList() {\r\n            this.loading = true;\r\n            this.getRequest(\"/permission/getAllList\").then(res => {\r\n                this.loading = false;\r\n                if (res.success) {\r\n                    this.data = res.result;\r\n                }\r\n            });\r\n        },\r\n        search() {\r\n            if (this.searchKey) {\r\n                this.loading = true;\r\n                searchPermission({\r\n                    title: this.searchKey\r\n                }).then(res => {\r\n                    this.loading = false;\r\n                    if (res.success) {\r\n                        this.data = res.result;\r\n                    }\r\n                });\r\n            } else {\r\n                this.getPermissionList();\r\n            }\r\n        },\r\n        selectTree(v) {\r\n            if (v.length > 0) {\r\n                // 转换null为\"\"\r\n                for (let attr in v[0]) {\r\n                    if (v[0][attr] == null) {\r\n                        v[0][attr] = \"\";\r\n                    }\r\n                }\r\n                let str = JSON.stringify(v[0]);\r\n                let menu = JSON.parse(str);\r\n                this.form = menu;\r\n                this.editTitle = menu.title;\r\n                this.getUserByPermission();\r\n            } else {\r\n                this.cancelEdit();\r\n                this.userByPermissionList = [];\r\n            }\r\n        },\r\n        getUserByPermission() {\r\n            var that = this;\r\n            that.userByPermissionLoading = true;\r\n            getUserByPermission({\r\n                permissionId: that.form.id\r\n            }).then(res => {\r\n                that.userByPermissionLoading = false;\r\n                if (res.success) {\r\n                    that.userByPermissionList = res.result;\r\n                }\r\n            })\r\n        },\r\n        cancelEdit() {\r\n            let data = this.$refs.tree.getSelectedNodes()[0];\r\n            if (data) {\r\n                data.selected = false;\r\n            }\r\n            this.$refs.form.resetFields();\r\n            this.form.id = \"\";\r\n            this.editTitle = \"\";\r\n        },\r\n        handleReset() {\r\n            let type = this.form.type;\r\n            this.$refs.form.resetFields();\r\n            this.form.icon = \"\";\r\n            this.form.component = \"\";\r\n            this.form.type = type;\r\n        },\r\n        submitEdit() {\r\n            this.$refs.form.validate(valid => {\r\n                if (valid) {\r\n                    if (!this.form.id) {\r\n                        this.$Message.warning(\"请先点击选择要修改的菜单节点\");\r\n                        return;\r\n                    }\r\n                    this.submitLoading = true;\r\n                    if (this.form.sortOrder == null) {\r\n                        this.form.sortOrder = \"\";\r\n                    }\r\n                    if (this.form.buttonType == null) {\r\n                        this.form.buttonType = \"\";\r\n                    }\r\n                    if (this.form.type == 1) {\r\n                        this.form.name = \"\";\r\n                        this.form.icon = \"\";\r\n                        this.form.component = \"\";\r\n                    }\r\n                    delete this.form.updateTime;\r\n                    delete this.form.children;\r\n                    editPermission(this.form).then(res => {\r\n                        this.submitLoading = false;\r\n                        if (res.success) {\r\n                            this.$Message.success(\"编辑成功\");\r\n                            // 标记重新获取菜单数据\r\n                            this.$store.commit(\"setAdded\", false);\r\n                            util.initRouter(this);\r\n                            this.init();\r\n                            this.menuModalVisible = false;\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        },\r\n        submitAdd() {\r\n            this.$refs.formAdd.validate(valid => {\r\n                if (valid) {\r\n                    this.submitLoading = true;\r\n                    if (this.formAdd.type == 1) {\r\n                        this.formAdd.name = \"\";\r\n                        this.formAdd.icon = \"\";\r\n                        this.formAdd.component = \"\";\r\n                    }\r\n                    addPermission(this.formAdd).then(res => {\r\n                        this.submitLoading = false;\r\n                        if (res.success) {\r\n                            this.$Message.success(\"添加成功\");\r\n                            this.$store.commit(\"setAdded\", false);\r\n                            util.initRouter(this);\r\n                            this.init();\r\n                            this.menuModalVisible = false;\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        },\r\n        addMenu() {\r\n            if (!this.form.id) {\r\n                this.modalTitle = \"添加顶部菜单(可拖动)\";\r\n                this.showParent = false;\r\n                this.formAdd = {\r\n                    type: -1,\r\n                    level: 0,\r\n                    sortOrder: 0,\r\n                    status: 0\r\n                };\r\n                this.menuModalVisible = true;\r\n                return;\r\n            }\r\n            this.parentTitle = this.form.title;\r\n            this.modalTitle = \"添加子节点\";\r\n            this.showParent = true;\r\n            let type = 0;\r\n            if (this.form.level == 1) {\r\n                type = 0;\r\n            } else if (this.form.level == 2) {\r\n                type = 1;\r\n            } else if (this.form.level == 3) {\r\n                this.$Modal.warning({\r\n                    title: \"抱歉，不能添加啦\",\r\n                    content: \"仅支持2级菜单目录\"\r\n                });\r\n                return;\r\n            } else {\r\n                type = 0;\r\n            }\r\n            let component = \"\";\r\n            this.formAdd = {\r\n                icon: \"\",\r\n                type: type,\r\n                parentId: this.form.id,\r\n                level: Number(this.form.level) + 1,\r\n                sortOrder: 0,\r\n                buttonType: \"\",\r\n                status: 0\r\n            };\r\n            if (this.form.level == 0) {\r\n                this.formAdd.path = \"/\";\r\n                this.formAdd.component = \"Main\";\r\n            }\r\n            this.menuModalVisible = true;\r\n        },\r\n        changeSelect(v) {\r\n            this.selectCount = v.length;\r\n            this.selectList = v;\r\n        },\r\n        deletePermissionFx() {\r\n            if (this.selectCount <= 0) {\r\n                this.$Message.warning(\"请选择要删除的菜单\");\r\n                return;\r\n            }\r\n            this.$Modal.confirm({\r\n                title: \"确认删除\",\r\n                content: \"您确认要删除所选的 \" + this.selectCount + \" 条数据?\",\r\n                loading: true,\r\n                onOk: () => {\r\n                    let ids = \"\";\r\n                    this.selectList.forEach(function (e) {\r\n                        ids += e.id + \",\";\r\n                    });\r\n                    ids = ids.substring(0, ids.length - 1);\r\n                    deletePermission({\r\n                        ids: ids\r\n                    }).then(res => {\r\n                        this.$Modal.remove();\r\n                        if (res.success) {\r\n                            this.$Message.success(\"删除成功\");\r\n                            this.$store.commit(\"setAdded\", false);\r\n                            util.initRouter(this);\r\n                            this.selectList = [];\r\n                            this.selectCount = 0;\r\n                            this.cancelEdit();\r\n                            this.init();\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    },\r\n    mounted() {\r\n        let height = document.documentElement.clientHeight;\r\n        this.maxHeight = Number(height - 260);\r\n        this.init();\r\n    }\r\n};\r\n</script>\r\n"]}]}